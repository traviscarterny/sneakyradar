<!DOCTYPE html>
<html lang="en">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2JCYS8398G"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-2JCYS8398G');</script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SneakyRadar — Compare Sneaker Prices Across StockX, GOAT & More</title>
  <meta name="description" content="Compare sneaker prices across StockX, GOAT, and more in one search. Track drops, find the best deals on Jordans, Yeezys, Dunks, New Balance, and 20+ brands. Real-time prices, release dates, and hype scores." />
  <meta name="keywords" content="sneaker price comparison, StockX prices, GOAT prices, sneaker deals, Jordan releases, Yeezy drops, Nike Dunk, sneaker tracker, shoe price checker, sneaker shopping, resell tracker, sneaker release dates" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://www.sneakyradar.com" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="SneakyRadar — Compare Sneaker Prices Across StockX, GOAT & More" />
  <meta property="og:description" content="Search once, compare prices everywhere. Track drops, find deals, and shop smarter across StockX, GOAT, and more." />
  <meta property="og:url" content="https://www.sneakyradar.com" />
  <meta property="og:site_name" content="SneakyRadar" />
  <meta property="og:image" content="https://www.sneakyradar.com/og-image.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="SneakyRadar — Compare Sneaker Prices" />
  <meta name="twitter:description" content="Search once, compare prices everywhere. Track drops across StockX, GOAT & more." />
  <meta name="twitter:image" content="https://www.sneakyradar.com/og-image.png" />
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='14' fill='%230a0a0a'/%3E%3Ccircle cx='32' cy='32' r='22' fill='none' stroke='%23ff3c00' stroke-width='2.5'/%3E%3Cline x1='32' y1='6' x2='32' y2='18' stroke='%23ff3c00' stroke-width='2.5'/%3E%3Cline x1='32' y1='46' x2='32' y2='58' stroke='%23ff3c00' stroke-width='2.5'/%3E%3Cline x1='6' y1='32' x2='18' y2='32' stroke='%23ff3c00' stroke-width='2.5'/%3E%3Cline x1='46' y1='32' x2='58' y2='32' stroke='%23ff3c00' stroke-width='2.5'/%3E%3Ctext x='32' y='40' text-anchor='middle' font-family='Arial Black,Impact,sans-serif' font-weight='900' font-size='22' fill='%23ffffff' letter-spacing='1'%3ESR%3C/text%3E%3C/svg%3E" />
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "SneakyRadar",
    "url": "https://www.sneakyradar.com",
    "description": "Compare sneaker prices across StockX, GOAT, and more. Track releases, find deals, and shop smarter.",
    "applicationCategory": "ShoppingApplication",
    "operatingSystem": "Web",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    }
  }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet" />
<style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --bg: #0a0a0a; --surface: #111; --border: #222;
      --accent: #ff3c00; --accent2: #00ff94; --text: #f0f0f0; --muted: #555; --card: #141414;
      --green: #00e676; --purple: #cc44ff;
    }
    body { background: var(--bg); color: var(--text); font-family: 'DM Mono', monospace; min-height: 100vh; overflow-x: hidden; }
    .grain { position: fixed; inset: 0; pointer-events: none; z-index: 100; opacity: 0.04;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E"); }
    @keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.4; transform: scale(0.8); } }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes shimmer { 0%, 100% { opacity: 0.4; } 50% { opacity: 0.9; } }
    @keyframes dropDown { from { opacity: 0; transform: translateY(-6px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes typingBounce { 0%, 100% { transform: translateY(0); opacity: 0.4; } 50% { transform: translateY(-5px); opacity: 1; } }
    .page { animation: fadeIn 0.2s ease; }
    .nav { border-bottom: 1px solid var(--border); padding: 0 40px; display: flex; align-items: stretch; justify-content: space-between; position: sticky; top: 0; z-index: 50; background: rgba(10,10,10,0.97); backdrop-filter: blur(12px); height: 60px; }
    .nav-left { display: flex; align-items: center; }
    .nav-logo { font-family: 'Bebas Neue', sans-serif; font-size: 1.6rem; letter-spacing: 4px; padding-right: 32px; border-right: 1px solid var(--border); display: flex; align-items: center; }
    .nav-logo .sneaky { color: var(--text); }
    .nav-logo .radar { color: var(--accent); }
    .nav-tabs { display: flex; align-items: stretch; }
    .nav-tab { display: flex; align-items: center; gap: 7px; padding: 0 22px; font-size: 0.65rem; letter-spacing: 2px; text-transform: uppercase; cursor: pointer; color: var(--muted); transition: all 0.15s; border-right: 1px solid var(--border); border-bottom: 2px solid transparent; background: transparent; border-top: none; border-left: none; font-family: 'DM Mono', monospace; }
    .nav-tab:hover { color: var(--text); background: #111; }
    .nav-tab.active { color: var(--text); border-bottom-color: var(--accent); background: #0e0e0e; }
    .hamburger { display: none; }
    .mobile-menu { display: none; }
    .nav-right { display: flex; align-items: center; gap: 12px; }
    .alert-btn { background: transparent; border: 1px solid var(--accent); color: var(--accent); font-family: 'DM Mono', monospace; font-size: 0.6rem; letter-spacing: 2px; text-transform: uppercase; padding: 7px 16px; cursor: pointer; transition: all 0.15s; display: flex; align-items: center; gap: 7px; }
    .alert-btn:hover { background: var(--accent); color: white; }
    .alert-dot { width: 6px; height: 6px; background: var(--accent); border-radius: 50%; animation: pulse 1.5s infinite; }
    .section-wrap { max-width: 1200px; margin: 0 auto; padding: 60px 40px 100px; }
    .hero-header { display: flex; align-items: center; gap: 24px; margin-bottom: 8px; }
    .hero-text { flex: 1; min-width: 0; }
    .hero-img { width: 260px; height: 90px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; border-radius: 8px; background: linear-gradient(135deg, #0e0e0e 0%, #161616 50%, #0e0e0e 100%); border: 1px solid #1a1a1a; }
    .hero-img img { width: 100%; height: 100%; object-fit: contain; padding: 12px; position: absolute; top: 0; left: 0; opacity: 0; transition: opacity 0.6s ease; }
    .hero-img img.active { opacity: 1; }
    .hero-img .hero-label { position: absolute; bottom: 6px; left: 0; right: 0; text-align: center; font-family: 'DM Mono', monospace; font-size: 0.45rem; letter-spacing: 2px; text-transform: uppercase; color: var(--muted); opacity: 0; transition: opacity 0.6s ease; }
    .hero-img .hero-label.active { opacity: 1; }
    .section-eyebrow { font-size: 0.6rem; letter-spacing: 4px; text-transform: uppercase; color: var(--accent); margin-bottom: 10px; }
    .section-title { font-family: 'Bebas Neue', sans-serif; font-size: clamp(3rem, 7vw, 6rem); line-height: 0.9; letter-spacing: 2px; margin-bottom: 6px; }
    .section-title .outline { -webkit-text-stroke: 1px var(--text); color: transparent; }
    .section-title .filled { color: var(--accent); }
    .section-sub { font-size: 0.75rem; color: var(--muted); letter-spacing: 0.5px; line-height: 1.7; margin-bottom: 40px; max-width: 520px; }
    .search-row { display: flex; max-width: 900px; margin: 0 0 24px; }
    .search-bar { flex: 1; display: flex; border: 1px solid var(--border); background: var(--surface); border-right: none; }
    .search-bar input { flex: 1; background: transparent; border: none; color: var(--text); font-family: 'DM Mono', monospace; font-size: 0.85rem; padding: 16px 20px; outline: none; letter-spacing: 1px; }
    .search-bar input::placeholder { color: var(--muted); }
    .src-dropdown-wrap { position: relative; }
    .src-dropdown-btn { height: 100%; background: #1a1a1a; border: 1px solid var(--border); border-right: none; color: var(--text); font-family: 'DM Mono', monospace; font-size: 0.7rem; letter-spacing: 2px; padding: 0 20px; cursor: pointer; white-space: nowrap; display: flex; align-items: center; gap: 8px; transition: background 0.15s; text-transform: uppercase; min-width: 160px; justify-content: space-between; }
    .src-dropdown-btn:hover { background: #222; }
    .chevron { transition: transform 0.2s; font-size: 0.6rem; }
    .chevron.open { transform: rotate(180deg); }
    .count-badge { background: var(--accent); color: white; font-size: 0.55rem; padding: 1px 5px; min-width: 18px; text-align: center; }
    .src-dropdown-menu { position: absolute; top: calc(100% + 1px); left: 0; right: 0; min-width: 240px; background: #111; border: 1px solid var(--border); z-index: 200; animation: dropDown 0.15s ease; max-height: 420px; overflow-y: auto; scrollbar-width: thin; }
    .src-menu-header { padding: 10px 14px; font-size: 0.55rem; letter-spacing: 3px; text-transform: uppercase; color: var(--muted); border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
    .src-menu-header button { background: none; border: none; color: var(--accent); cursor: pointer; font-family: 'DM Mono', monospace; font-size: 0.55rem; letter-spacing: 2px; text-transform: uppercase; }
    .src-menu-item { display: flex; align-items: center; gap: 10px; padding: 10px 14px; cursor: pointer; transition: background 0.1s; border-bottom: 1px solid #1a1a1a; font-size: 0.7rem; letter-spacing: 1px; }
    .src-menu-item:hover { background: #1a1a1a; }
    .src-checkbox { width: 14px; height: 14px; border: 1px solid var(--border); flex-shrink: 0; display: flex; align-items: center; justify-content: center; transition: all 0.15s; }
    .src-checkbox.checked { border-color: var(--accent2); background: var(--accent2); }
    .src-checkbox.checked::after { content: '✓'; color: #000; font-size: 0.6rem; font-weight: bold; }
    .src-color-dot { width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0; }
    .src-label { color: var(--text); flex: 1; }
    .src-url { font-size: 0.55rem; color: var(--muted); }
    .search-go-btn { background: var(--accent); color: white; border: none; font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem; letter-spacing: 3px; padding: 0 32px; cursor: pointer; transition: background 0.15s; }
    .search-go-btn:hover { background: #ff5a20; }
    .search-go-btn:disabled { background: var(--muted); cursor: not-allowed; }
    .filters { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 24px; justify-content: center; }
    .filter-btn { background: transparent; border: 1px solid rgba(255,255,255,0.3); color: rgba(255,255,255,0.6); font-family: 'DM Mono', monospace; font-size: 0.65rem; letter-spacing: 2px; text-transform: uppercase; padding: 6px 16px; cursor: pointer; transition: all 0.15s; }
    .filter-btn:hover, .filter-btn.active { border-color: var(--accent); color: var(--accent); }
    .result-source-filters { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 32px; }
    .rsf-btn { background: transparent; border: 1px solid var(--border); color: var(--muted); font-family: 'DM Mono', monospace; font-size: 0.6rem; letter-spacing: 1px; text-transform: uppercase; padding: 5px 12px; cursor: pointer; transition: all 0.15s; display: flex; align-items: center; gap: 6px; }
    .rsf-btn .dot { width: 6px; height: 6px; border-radius: 50%; }
    .rsf-btn:hover, .rsf-btn.active { border-color: var(--accent2); color: var(--accent2); }
    .progress-steps { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 6px; margin-bottom: 24px; }
    .progress-step { display: flex; align-items: center; gap: 8px; font-size: 0.6rem; letter-spacing: 1px; text-transform: uppercase; }
    .step-dot { width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0; }
    .step-dot.done { background: var(--accent2); } .step-dot.active { background: var(--accent); animation: pulse 1s infinite; } .step-dot.pending { background: var(--border); }
    .step-label.done { color: var(--accent2); } .step-label.active { color: var(--text); } .step-label.pending { color: var(--muted); }
    .status-bar { display: flex; align-items: center; gap: 12px; margin-bottom: 32px; font-size: 0.7rem; letter-spacing: 2px; text-transform: uppercase; color: var(--muted); }
    .pulse-dot { width: 8px; height: 8px; background: var(--accent); border-radius: 50%; animation: pulse 1.5s ease-in-out infinite; }
    .error-msg { margin: 0 0 24px; padding: 16px 20px; border: 1px solid var(--accent); color: var(--accent); font-size: 0.75rem; letter-spacing: 1px; line-height: 1.6; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1px; background: var(--border); border: 1px solid var(--border); }
    .card { background: var(--card); transition: background 0.2s; position: relative; overflow: hidden; display: flex; flex-direction: column; }
    .card::before { content: ''; position: absolute; top: 0; left: 0; width: 3px; height: 0; background: var(--accent); transition: height 0.3s; z-index: 2; }
    .card:hover { background: #1a1a1a; }
    .card:hover::before { height: 100%; }
    .card.sponsored { outline: 1px solid var(--accent2); }
    .card.sponsored::before { background: var(--accent2); }
    .sponsor-banner { background: var(--accent2); color: #000; font-size: 0.5rem; letter-spacing: 3px; text-transform: uppercase; padding: 4px 14px; display: flex; justify-content: space-between; }
    .card-img-wrap { width: 100%; height: 200px; background: #191919; overflow: hidden; display: flex; align-items: center; justify-content: center; border-bottom: 1px solid var(--border); position: relative; cursor: pointer; }
    .card-img { width: 100%; height: 100%; object-fit: contain; padding: 20px; transition: transform 0.35s ease; }
    .card:hover .card-img { transform: scale(1.06); }
    .card-img-placeholder { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-family: 'Bebas Neue', sans-serif; font-size: 5rem; color: #2a2a2a; }
    .card-source-tag { position: absolute; bottom: 8px; right: 8px; font-size: 0.5rem; letter-spacing: 2px; text-transform: uppercase; padding: 2px 7px; background: rgba(0,0,0,0.8); border: 1px solid var(--border); color: var(--muted); }
    .card-body { padding: 20px; flex: 1; display: flex; flex-direction: column; }
    .card-brand { font-size: 0.6rem; letter-spacing: 4px; text-transform: uppercase; color: var(--accent); margin-bottom: 6px; }
    .card-name { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; letter-spacing: 2px; line-height: 1.1; margin-bottom: 6px; cursor: pointer; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; min-height: 2.2em; height: 2.2em; }
    .card-name:hover { color: var(--accent2); }
    .card-colorway { font-size: 0.65rem; color: var(--muted); letter-spacing: 1px; margin-bottom: 12px; }
    .card-meta { display: flex; flex-direction: column; gap: 6px; }
    .meta-row { display: flex; justify-content: space-between; align-items: center; font-size: 0.7rem; letter-spacing: 1px; }
    .meta-label { color: var(--muted); text-transform: uppercase; }
    .meta-value { color: var(--text); }
    .price { color: var(--accent2); font-size: 0.85rem; }
    .hype-bar { margin-top: 12px; height: 2px; background: var(--border); overflow: hidden; }
    .hype-fill { height: 100%; background: linear-gradient(90deg, var(--accent), var(--accent2)); }
    .hype-label { font-size: 0.6rem; letter-spacing: 2px; text-transform: uppercase; color: var(--muted); margin-top: 5px; display: flex; justify-content: space-between; }
    .badge { display: inline-block; font-size: 0.55rem; letter-spacing: 2px; text-transform: uppercase; padding: 3px 8px; border: 1px solid; margin-bottom: 8px; }
    .badge-hot { border-color: var(--accent); color: var(--accent); }
    .badge-upcoming { border-color: var(--accent2); color: var(--accent2); }
    .badge-limited { border-color: #a0f; color: #a0f; }
    .price-compare { margin-top: 12px; border-top: 1px solid var(--border); padding-top: 10px; }
    .price-compare-label { font-size: 0.55rem; letter-spacing: 3px; text-transform: uppercase; color: var(--muted); margin-bottom: 7px; }
    .price-compare-rows { display: flex; flex-direction: column; gap: 5px; }
    .price-row { display: flex; align-items: center; gap: 8px; }
    .price-row-store { font-size: 0.6rem; letter-spacing: 1px; color: var(--muted); flex: 1; text-transform: uppercase; }
    .price-row-amount { font-size: 0.75rem; color: #00ff94; min-width: 48px; text-align: right; }
    .price-row-btn { font-family: 'DM Mono', monospace; font-size: 0.55rem; letter-spacing: 1px; text-transform: uppercase; background: transparent; border: 1px solid var(--border); color: var(--muted); padding: 3px 9px; cursor: pointer; transition: all 0.15s; white-space: nowrap; text-decoration: none; display: inline-block; }
    .price-row-btn:hover { border-color: var(--accent2); color: var(--accent2); }
    .price-row-btn.best { border-color: var(--accent2); color: #000; background: var(--accent2); }
    .loading-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1px; background: var(--border); border: 1px solid var(--border); }
    .loading-card { background: var(--card); animation: shimmer 1.5s ease-in-out infinite; }
    .loading-img { width: 100%; height: 200px; background: #1a1a1a; border-bottom: 1px solid var(--border); }
    .loading-body { padding: 20px; }
    .skeleton { background: var(--border); margin-bottom: 12px; }
    .empty-state { text-align: center; padding: 80px 40px; color: var(--muted); font-size: 0.75rem; letter-spacing: 2px; text-transform: uppercase; border: 1px solid var(--border); }
    .empty-state h2 { font-family: 'Bebas Neue', sans-serif; font-size: 3rem; color: var(--border); letter-spacing: 4px; margin-bottom: 16px; }
    .resell-table { width: 100%; border: 1px solid var(--border); border-collapse: collapse; }
    .resell-mobile { display: none; }
    .resell-table th { background: #111; padding: 12px 16px; font-size: 0.6rem; letter-spacing: 3px; text-transform: uppercase; color: var(--muted); text-align: left; border-bottom: 1px solid var(--border); font-weight: 400; cursor: pointer; }
    .resell-table td { padding: 14px 16px; font-size: 0.72rem; letter-spacing: 0.5px; border-bottom: 1px solid #1a1a1a; vertical-align: middle; }
    .resell-table tr:hover td { background: #161616; }
    .resell-brand { font-size: 0.55rem; letter-spacing: 3px; text-transform: uppercase; color: var(--accent); }
    .resell-name { font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem; letter-spacing: 1px; }
    .resell-price-avg { color: var(--accent2); font-size: 0.85rem; }
    .resell-price-low { color: var(--muted); font-size: 0.7rem; }
    .resell-price-high { color: var(--text); font-size: 0.7rem; }
    .trend-up { color: var(--green); font-size: 0.7rem; }
    .trend-down { color: var(--accent); font-size: 0.7rem; }
    .hot-tag { background: var(--accent); color: white; font-size: 0.5rem; letter-spacing: 2px; text-transform: uppercase; padding: 2px 7px; }
    .vol-tag { font-size: 0.6rem; color: var(--muted); }
    .resell-buy-btn { font-family: 'DM Mono', monospace; font-size: 0.55rem; letter-spacing: 1px; text-transform: uppercase; background: transparent; border: 1px solid var(--border); color: var(--muted); padding: 5px 12px; cursor: pointer; transition: all 0.15s; text-decoration: none; display: inline-block; white-space: nowrap; }
    .resell-buy-btn:hover { border-color: var(--accent2); color: var(--accent2); }
    .resell-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1px; background: var(--border); border: 1px solid var(--border); margin-bottom: 32px; }
    .resell-stat { background: var(--card); padding: 24px; }
    .resell-stat-label { font-size: 0.55rem; letter-spacing: 3px; text-transform: uppercase; color: var(--muted); margin-bottom: 8px; }
    .resell-stat-value { font-family: 'Bebas Neue', sans-serif; font-size: 2rem; letter-spacing: 2px; color: var(--accent2); }
    .resell-stat-sub { font-size: 0.6rem; color: var(--muted); margin-top: 4px; }
    .auth-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1px; background: var(--border); border: 1px solid var(--border); margin-bottom: 48px; }
    .auth-card { background: var(--card); padding: 24px; cursor: pointer; transition: background 0.15s; position: relative; overflow: hidden; }
    .auth-card:hover { background: #1a1a1a; }
    .auth-card.selected { background: #1a1a1a; outline: 1px solid var(--accent); }
    .auth-model { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; letter-spacing: 2px; margin-bottom: 6px; }
    .auth-diff { font-size: 0.6rem; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 12px; }
    .auth-diff.easy { color: var(--green); } .auth-diff.medium { color: var(--accent2); } .auth-diff.hard { color: var(--accent); } .auth-diff.veryhard { color: var(--purple); }
    .fake-score-label { font-size: 0.55rem; letter-spacing: 2px; text-transform: uppercase; color: var(--muted); margin-bottom: 5px; display: flex; justify-content: space-between; }
    .fake-score-bar { height: 3px; background: var(--border); overflow: hidden; }
    .fake-score-fill { height: 100%; background: linear-gradient(90deg, var(--green), var(--accent2), var(--accent)); }
    .auth-cta { font-size: 0.6rem; letter-spacing: 1px; text-transform: uppercase; color: var(--accent); margin-top: 12px; }
    .auth-detail { border: 1px solid var(--border); animation: fadeIn 0.2s ease; }
    .auth-detail-header { background: #111; padding: 20px 28px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; }
    .auth-detail-title { font-family: 'Bebas Neue', sans-serif; font-size: 1.8rem; letter-spacing: 3px; }
    .auth-detail-close { background: transparent; border: none; color: var(--muted); cursor: pointer; font-size: 1rem; font-family: 'DM Mono', monospace; letter-spacing: 1px; }
    .auth-detail-close:hover { color: var(--text); }
    .auth-check { padding: 20px 28px; border-bottom: 1px solid #1a1a1a; display: grid; grid-template-columns: 160px 1fr 1fr 1fr; gap: 20px; align-items: start; }
    .auth-check:last-child { border-bottom: none; }
    .auth-check-area { font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 1px; padding-top: 2px; }
    .auth-check-real { font-size: 0.68rem; color: var(--green); line-height: 1.5; }
    .auth-check-fake { font-size: 0.68rem; color: var(--accent); line-height: 1.5; }
    .auth-check-tip { font-size: 0.68rem; color: var(--accent2); line-height: 1.5; }
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 300; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(4px); animation: fadeIn 0.2s; }
    .modal { background: #0e0e0e; border: 1px solid var(--border); width: 480px; max-width: 95vw; animation: fadeIn 0.25s ease; }
    .modal-header { padding: 24px 28px 0; display: flex; align-items: flex-start; justify-content: space-between; }
    .modal-title { font-family: 'Bebas Neue', sans-serif; font-size: 2rem; letter-spacing: 3px; }
    .modal-title span { color: var(--accent); }
    .modal-close { background: transparent; border: none; color: var(--muted); cursor: pointer; font-size: 1.2rem; line-height: 1; }
    .modal-body { padding: 16px 28px 28px; }
    .modal-desc { font-size: 0.75rem; color: var(--muted); line-height: 1.7; margin-bottom: 20px; }
    .modal-features { display: flex; flex-direction: column; gap: 8px; margin-bottom: 24px; }
    .modal-feature { display: flex; align-items: center; gap: 10px; font-size: 0.7rem; color: var(--text); }
    .modal-feature-dot { width: 5px; height: 5px; background: var(--accent2); border-radius: 50%; flex-shrink: 0; }
    .modal-form { display: flex; }
    .modal-input { flex: 1; background: var(--surface); border: 1px solid var(--border); border-right: none; color: var(--text); font-family: 'DM Mono', monospace; font-size: 0.8rem; padding: 13px 16px; outline: none; }
    .modal-input:focus { border-color: var(--accent); }
    .modal-input::placeholder { color: var(--muted); }
    .modal-submit { background: var(--accent); color: white; border: none; font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 3px; padding: 13px 24px; cursor: pointer; }
    .modal-submit:hover { background: #ff5a20; }
    .modal-success { text-align: center; padding: 40px 28px; }
    .modal-fine { font-size: 0.55rem; color: var(--muted); margin-top: 12px; line-height: 1.5; opacity: 0.7; }
    .chat-fab { position: fixed; bottom: 32px; right: 32px; z-index: 200; width: 60px; height: 60px; background: var(--accent); border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 0 1px #ff3c0044, 0 8px 32px rgba(255,60,0,0.4); transition: transform 0.2s; font-family: 'Bebas Neue', sans-serif; font-size: 0.65rem; letter-spacing: 2px; color: white; flex-direction: column; gap: 2px; }
    .chat-fab:hover { transform: scale(1.06); }
    .chat-fab svg { width: 22px; height: 22px; }
    .chat-window { position: fixed; bottom: 108px; right: 32px; z-index: 200; width: 400px; max-height: 600px; background: #0e0e0e; border: 1px solid var(--border); display: flex; flex-direction: column; box-shadow: 0 24px 80px rgba(0,0,0,0.8); animation: fadeIn 0.25s ease; }
    .chat-header { padding: 16px 20px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; background: #111; }
    .chat-header-left { display: flex; align-items: center; gap: 12px; }
    .chat-avatar { width: 36px; height: 36px; background: var(--accent); display: flex; align-items: center; justify-content: center; font-family: 'Bebas Neue', sans-serif; font-size: 1rem; color: white; flex-shrink: 0; }
    .chat-title { font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 3px; }
    .chat-subtitle { font-size: 0.55rem; letter-spacing: 2px; text-transform: uppercase; color: var(--muted); margin-top: 1px; display: flex; align-items: center; gap: 5px; }
    .chat-online { width: 7px; height: 7px; background: #00e676; border-radius: 50%; animation: pulse 2s infinite; }
    .chat-close { background: transparent; border: none; color: var(--muted); cursor: pointer; font-size: 1.2rem; padding: 4px; line-height: 1; }
    .chat-messages { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 16px; scrollbar-width: thin; }
    .msg { display: flex; gap: 10px; animation: fadeIn 0.2s ease; }
    .msg.user { flex-direction: row-reverse; }
    .msg-avatar { width: 28px; height: 28px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-family: 'Bebas Neue', sans-serif; font-size: 0.75rem; }
    .msg-avatar.bot { background: var(--accent); color: white; }
    .msg-avatar.user { background: var(--border); color: var(--muted); }
    .msg-bubble { max-width: calc(100% - 44px); padding: 10px 14px; font-size: 0.75rem; line-height: 1.6; border: 1px solid var(--border); }
    .msg.bot .msg-bubble { background: #161616; }
    .msg.user .msg-bubble { background: #1a0a00; border-color: #ff3c0044; }
    .msg-bubble strong { color: var(--accent2); font-weight: 500; }
    .msg-bubble em { color: var(--accent); font-style: normal; }
    .typing-indicator { display: flex; gap: 4px; align-items: center; padding: 4px 0; }
    .typing-dot { width: 6px; height: 6px; background: var(--muted); border-radius: 50%; animation: typingBounce 1.2s ease-in-out infinite; }
    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }
    .chat-suggestions { padding: 0 16px 12px; display: flex; flex-wrap: wrap; gap: 6px; }
    .suggestion-chip { background: transparent; border: 1px solid var(--border); color: var(--muted); font-family: 'DM Mono', monospace; font-size: 0.6rem; letter-spacing: 1px; padding: 5px 10px; cursor: pointer; transition: all 0.15s; }
    .suggestion-chip:hover { border-color: var(--accent); color: var(--accent); }
    .chat-input-row { padding: 12px 16px; border-top: 1px solid var(--border); display: flex; background: #111; }
    .chat-input { flex: 1; background: transparent; border: 1px solid var(--border); border-right: none; color: var(--text); font-family: 'DM Mono', monospace; font-size: 0.75rem; padding: 10px 14px; outline: none; resize: none; max-height: 80px; line-height: 1.4; }
    .chat-input::placeholder { color: var(--muted); }
    .chat-send { background: var(--accent); color: white; border: none; font-family: 'Bebas Neue', sans-serif; font-size: 0.85rem; letter-spacing: 2px; padding: 10px 16px; cursor: pointer; }
    .chat-send:hover { background: #ff5a20; }
    .chat-send:disabled { background: var(--muted); cursor: not-allowed; }
    .chat-clear { background: transparent; border: none; color: var(--muted); font-size: 0.6rem; letter-spacing: 1px; cursor: pointer; font-family: 'DM Mono', monospace; text-transform: uppercase; }
    .site-footer { max-width: 1200px; margin: 0 auto; padding: 20px 40px 40px; font-size: 0.6rem; color: var(--muted); letter-spacing: 1px; border-top: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
    .footer-logo { font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem; letter-spacing: 4px; }
    .footer-logo .radar { color: var(--accent); }
    @media (max-width: 768px) {
      .nav { padding: 0 12px; height: 48px; position: relative; }
      .nav-left { width: 100%; padding: 0; display: flex; align-items: center; justify-content: space-between; }
      .nav-logo { font-size: 1.2rem; padding-right: 0; border-right: none; padding: 10px 0; }
      .nav-tabs { display: none; }
      .nav-right { display: none; }
      .hamburger { display: flex; align-items: center; justify-content: center; background: none; border: 1px solid rgba(255,255,255,0.3); color: var(--text); font-size: 1.2rem; width: 36px; height: 36px; cursor: pointer; border-radius: 4px; font-family: inherit; }
      .mobile-menu { display: block; position: absolute; top: 100%; right: 12px; background: rgba(15,15,15,0.98); border: 1px solid var(--border); border-radius: 6px; z-index: 100; min-width: 200px; overflow: hidden; backdrop-filter: blur(12px); }
      .mobile-menu-item { display: flex; align-items: center; gap: 8px; padding: 14px 18px; font-family: 'DM Mono', monospace; font-size: 0.6rem; letter-spacing: 2px; text-transform: uppercase; color: var(--muted); cursor: pointer; border: none; background: none; width: 100%; text-align: left; border-bottom: 1px solid var(--border); }
      .mobile-menu-item:last-child { border-bottom: none; }
      .mobile-menu-item:hover, .mobile-menu-item.active { color: var(--text); background: rgba(255,255,255,0.05); }
      .mobile-menu-item.active { color: var(--accent); }
      .result-source-filters { display: none; }
      .section-wrap { padding: 24px 12px 80px; }
      .hero-img { width: 160px; height: 60px; }
      .hero-img .hero-label { font-size: 0.35rem; bottom: 3px; }
      .section-title { font-size: clamp(2rem, 10vw, 3.5rem); margin-bottom: 48px; }
      .section-sub { font-size: 0.7rem; margin-bottom: 24px; display: none; }
      .search-row { flex-direction: column; gap: 8px; }
      .search-bar { border-right: 1px solid var(--border); }
      .search-bar input { font-size: 0.8rem; padding: 14px 14px; }
      .search-go-btn { padding: 14px 24px; width: 100%; }
      .filters { gap: 6px; margin-bottom: 16px; justify-content: center; }
      .filter-btn { font-size: 0.55rem; padding: 5px 10px; letter-spacing: 1px; }
      .grid { grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 1px; }
      .card-img-wrap { height: 150px; }
      .card-img { padding: 12px; }
      .card-body { padding: 12px; }
      .card-brand { font-size: 0.5rem; letter-spacing: 2px; }
      .card-name { font-size: 1.1rem; letter-spacing: 1px; min-height: 2.2em; height: 2.2em; }
      .card-colorway { font-size: 0.55rem; }
      .card-meta { font-size: 0.6rem; }
      .meta-row { font-size: 0.6rem; }
      .price { font-size: 0.65rem; }
      .hype-label { font-size: 0.55rem; }
      .badge { font-size: 0.45rem; padding: 2px 6px; }
      .status-bar { font-size: 0.55rem; }
      .resell-stats { grid-template-columns: repeat(2, 1fr); }
      .resell-table { display: none; }
      .resell-mobile { display: flex; flex-direction: column; gap: 1px; background: var(--border); border: 1px solid var(--border); }
      .resell-m-card { background: var(--card); padding: 14px; }
      .resell-m-top { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
      .resell-m-name { font-family: 'Bebas Neue', sans-serif; font-size: 1rem; letter-spacing: 1px; line-height: 1.2; max-width: 65%; }
      .resell-m-brand { font-size: 0.5rem; letter-spacing: 2px; text-transform: uppercase; color: var(--accent); margin-bottom: 2px; }
      .resell-m-avg { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; color: var(--green); }
      .resell-m-row { display: flex; justify-content: space-between; font-size: 0.6rem; color: var(--muted); padding: 4px 0; border-top: 1px solid #1a1a1a; }
      .resell-m-row span:last-child { color: var(--text); }
      .resell-m-btns { display: flex; gap: 8px; margin-top: 10px; }
      .resell-m-btns a { flex: 1; text-align: center; font-family: 'DM Mono', monospace; font-size: 0.55rem; letter-spacing: 2px; text-transform: uppercase; padding: 8px; border: 1px solid var(--border); color: var(--text); text-decoration: none; border-radius: 3px; }
      .resell-m-btns a:hover { border-color: var(--accent); }
      .auth-check { grid-template-columns: 1fr; }
      .chat-fab { bottom: 16px; right: 16px; width: 50px; height: 50px; font-size: 0.5rem; }
      .chat-fab svg { width: 18px; height: 18px; }
      .chat-window { width: calc(100vw - 24px); right: 12px; bottom: 70px; height: 60vh; }
      .chat-input-row input { font-size: 0.8rem; }
      .price-compare { gap: 4px; }
      .price-compare a { font-size: 0.55rem; padding: 4px 6px; }
    }
    @media (max-width: 380px) {
      .grid { grid-template-columns: 1fr; }
      .card-img-wrap { height: 180px; }
      .nav-tabs { gap: 0; }
      .nav-tab { padding: 10px 10px; font-size: 0.45rem; }
      .filter-btn { font-size: 0.5rem; padding: 4px 8px; }
      .site-footer { flex-direction: column; gap: 8px; padding: 16px; text-align: center; }
    }
    /* Release Calendar */
    .cal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:32px;flex-wrap:wrap;gap:16px}
    .cal-month-nav{display:flex;align-items:center;gap:16px}
    .cal-month-nav button{background:var(--surface);border:1px solid var(--border);color:var(--text);font-family:'DM Mono',monospace;font-size:.75rem;padding:8px 16px;cursor:pointer;transition:all .15s;letter-spacing:1px}
    .cal-month-nav button:hover{border-color:var(--accent);color:var(--accent)}
    .cal-month-label{font-family:'Bebas Neue',sans-serif;font-size:2.4rem;letter-spacing:3px;min-width:260px;text-align:center}
    .cal-month-label span{color:var(--accent)}
    .cal-view-toggle{display:flex;border:1px solid var(--border)}
    .cal-view-btn{background:transparent;border:none;color:var(--muted);font-family:'DM Mono',monospace;font-size:.6rem;letter-spacing:2px;text-transform:uppercase;padding:8px 18px;cursor:pointer;transition:all .15s}
    .cal-view-btn.active{background:var(--accent);color:white}
    .cal-filters{display:flex;gap:8px;margin-bottom:24px;flex-wrap:wrap}
    .cal-filter-btn{background:transparent;border:1px solid var(--border);color:var(--muted);font-family:'DM Mono',monospace;font-size:.55rem;letter-spacing:2px;text-transform:uppercase;padding:6px 14px;cursor:pointer;transition:all .15s;white-space:nowrap}
    .cal-filter-btn:hover{border-color:var(--text);color:var(--text)}
    .cal-filter-btn.active{border-color:var(--accent);color:var(--accent);background:rgba(255,60,0,.08)}
    .cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:1px;background:var(--border);border:1px solid var(--border);margin-bottom:40px}
    .cal-day-header{background:var(--surface);padding:10px;text-align:center;font-size:.55rem;letter-spacing:3px;text-transform:uppercase;color:var(--muted)}
    .cal-day{background:var(--bg);min-height:120px;padding:8px;position:relative;transition:background .15s}
    .cal-day:hover{background:#0e0e0e}
    .cal-day.other-month{opacity:.3}
    .cal-day.today{background:rgba(255,60,0,.04)}
    .cal-day.today::after{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:var(--accent)}
    .cal-day-num{font-family:'Bebas Neue',sans-serif;font-size:1.2rem;color:var(--muted);margin-bottom:4px}
    .cal-day.today .cal-day-num{color:var(--accent)}
    .cal-release-pip{font-size:.45rem;padding:2px 5px;margin-bottom:2px;border-radius:2px;cursor:pointer;transition:all .15s;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;letter-spacing:.5px;display:block}
    .cal-release-pip:hover{transform:translateX(2px);filter:brightness(1.3)}
    .cal-release-pip.brand-jordan{background:rgba(255,60,0,.15);color:#ff6b3d;border-left:2px solid #ff3c00}
    .cal-release-pip.brand-nike{background:rgba(255,255,255,.06);color:#ccc;border-left:2px solid #888}
    .cal-release-pip.brand-adidas{background:rgba(0,200,120,.1);color:#00e676;border-left:2px solid #00e676}
    .cal-release-pip.brand-collab{background:rgba(200,68,255,.1);color:#cc44ff;border-left:2px solid #cc44ff}
    .cal-release-pip.brand-other{background:rgba(100,180,255,.1);color:#64b5f6;border-left:2px solid #64b5f6}
    .cal-more{font-size:.45rem;color:var(--muted);padding:2px 5px;cursor:pointer}
    .cal-more:hover{color:var(--accent)}
    .cal-list{display:flex;flex-direction:column;gap:2px}
    .cal-list-date{font-family:'Bebas Neue',sans-serif;font-size:1.4rem;letter-spacing:2px;padding:20px 0 8px;border-bottom:1px solid var(--border);margin-bottom:8px;color:var(--muted)}
    .cal-list-date span{color:var(--accent)}
    .cal-list-item{display:flex;align-items:center;gap:16px;padding:12px 16px;background:var(--surface);border:1px solid var(--border);transition:all .15s;cursor:pointer}
    .cal-list-item:hover{border-color:var(--accent);background:#161616;transform:translateX(4px)}
    .cal-list-info{flex:1;min-width:0}
    .cal-list-name{font-family:'Bebas Neue',sans-serif;font-size:1.1rem;letter-spacing:1px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .cal-list-meta{font-size:.6rem;color:var(--muted);letter-spacing:.5px;margin-top:2px}
    .cal-list-sku{font-size:.55rem;color:var(--muted);letter-spacing:1px;margin-top:1px}
    .cal-list-price{font-family:'Bebas Neue',sans-serif;font-size:1.3rem;color:var(--green);white-space:nowrap}
    .cal-list-actions{display:flex;gap:6px;flex-shrink:0}
    .cal-list-btn{font-family:'DM Mono',monospace;font-size:.5rem;letter-spacing:1.5px;text-transform:uppercase;padding:6px 12px;border:1px solid var(--border);background:transparent;color:var(--text);cursor:pointer;transition:all .15s;text-decoration:none;display:inline-block}
    .cal-list-btn:hover{border-color:var(--accent);color:var(--accent)}
    .cal-list-btn.primary{background:var(--accent);border-color:var(--accent);color:white}
    .cal-list-btn.primary:hover{background:#ff5522}
    .cal-legend{display:flex;gap:16px;flex-wrap:wrap;padding:16px 0;border-top:1px solid var(--border);margin-top:20px}
    .cal-legend-item{display:flex;align-items:center;gap:6px;font-size:.55rem;color:var(--muted);letter-spacing:1px}
    .cal-legend-dot{width:8px;height:8px;border-radius:1px}
    .cal-modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.8);z-index:200;display:flex;align-items:center;justify-content:center;padding:20px;animation:fadeIn .15s ease}
    .cal-modal{background:var(--bg);border:1px solid var(--border);max-width:500px;width:100%;max-height:80vh;overflow-y:auto}
    .cal-modal-head{display:flex;justify-content:space-between;align-items:flex-start;padding:24px 24px 0}
    .cal-modal-close{background:none;border:none;color:var(--muted);font-size:1.2rem;cursor:pointer}
    .cal-modal-close:hover{color:var(--text)}
    .cal-modal-body{padding:16px 24px 24px}
    .cal-modal-title{font-family:'Bebas Neue',sans-serif;font-size:1.8rem;letter-spacing:1px;line-height:1.1}
    .cal-modal-details{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:16px 0}
    .cal-modal-detail label{font-size:.5rem;letter-spacing:2px;text-transform:uppercase;color:var(--muted);display:block;margin-bottom:2px}
    .cal-modal-detail span{font-family:'Bebas Neue',sans-serif;font-size:1.2rem}
    .cal-modal-btns{display:flex;gap:8px;margin-top:16px}
    .cal-modal-btns a{flex:1;text-align:center}
    .cal-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:1px;background:var(--border);border:1px solid var(--border);margin-bottom:32px}
    .cal-stat{background:var(--bg);padding:16px 20px}
    .cal-stat-label{font-size:.5rem;letter-spacing:3px;text-transform:uppercase;color:var(--muted);margin-bottom:4px}
    .cal-stat-val{font-family:'Bebas Neue',sans-serif;font-size:1.8rem;letter-spacing:1px}
    .cal-stat-val.accent{color:var(--accent)}
    .cal-stat-val.green{color:var(--green)}
    @media(max-width:768px){
      .cal-grid{grid-template-columns:repeat(7,1fr)}.cal-day{min-height:70px;padding:4px}.cal-day-num{font-size:.9rem}.cal-release-pip{font-size:.35rem;padding:1px 3px}
      .cal-stats{grid-template-columns:repeat(2,1fr)}.cal-list-item{flex-wrap:wrap;gap:10px}.cal-list-actions{width:100%}.cal-list-btn{flex:1;text-align:center}
      .cal-month-label{font-size:1.6rem;min-width:auto}.cal-header{justify-content:center}
    }
  </style>
</head>
<body>
<div id="root"></div>
<noscript>
<div style="max-width:900px;margin:0 auto;padding:40px 20px;font-family:sans-serif;color:#f0f0f0;background:#0a0a0a">
  <h1>SneakyRadar — Compare Sneaker Prices Across StockX, GOAT & More</h2>
  <p>Search once, compare everywhere. SneakyRadar is a free sneaker price comparison tool that lets you compare prices across StockX, GOAT, eBay, and Amazon in one search. Track upcoming releases, check resell values, and find the best deals on Jordans, Yeezys, Dunks, New Balance, ASICS, and 20+ brands.</p>
  <h2>Features</h2>
  <p>Real-time price comparison across 4+ platforms. Release calendar with upcoming drop dates and retail prices. Resell tracker with profit estimates and market trends. Authentication guide for spotting fake sneakers.</p>
  <h2>Popular Sneaker Searches</h2>
  <p>Air Jordan 4 White Oreo, Nike Dunk Low Panda, Yeezy 350 V2, New Balance 990v6, ASICS Gel-Kayano 14, Air Jordan 1 Retro High, Nike Air Force 1, Adidas Samba, Jordan 11 Space Jam, Travis Scott Jordan 1.</p>
  <h2>Sneaker Guides & Blog</h2>
  <ul>
    <li><a href="/blog/best-jordan-releases-2026">Best Air Jordan Releases 2026</a></li>
    <li><a href="/blog/sneaker-price-comparison-guide">StockX vs GOAT: Where to Buy for the Best Price</a></li>
    <li><a href="/blog/best-sneakers-under-150">Best Sneakers Under $150 in 2026</a></li>
    <li><a href="/blog/best-sneakers-resale-2026">Best Sneakers to Buy for Resale in 2026</a></li>
    <li><a href="/blog/how-to-authenticate-sneakers">How to Authenticate Sneakers: Real vs Fake Guide</a></li>
    <li><a href="/blog/how-stockx-works">How StockX Works: Complete Beginner's Guide</a></li>
    <li><a href="/blog/yeezy-price-guide-2026">Yeezy Price Guide 2026</a></li>
    <li><a href="/blog/nike-dunk-release-calendar-2026">Nike Dunk Release Calendar 2026</a></li>
    <li><a href="/blog/new-balance-buying-guide">New Balance Buying Guide: 990 vs 2002R vs 550</a></li>
    <li><a href="/blog/asics-kayano-14-vs-gel-1130">ASICS Gel-Kayano 14 vs Gel-1130</a></li>
    <li><a href="/blog/best-sneakers-under-100">Best Sneakers Under $100 in 2026</a></li>
    <li><a href="/blog/sneaker-release-dates-2026">Sneaker Release Dates 2026: Complete Calendar</a></li>
    <li><a href="/blog/how-to-buy-sneakers-retail">How to Buy Sneakers for Retail</a></li>
    <li><a href="/blog/goat-vs-stockx-fees">GOAT vs StockX Fees Compared 2026</a></li>
    <li><a href="/blog/are-yeezy-slides-worth-it">Are Yeezy Slides Worth It in 2026?</a></li>
    <li><a href="/blog/jordan-4-price-history">Jordan 4 Price History: 2020-2026</a></li>
  </ul>
  <p><a href="/blog">View all sneaker guides →</a></p>
</div>
</noscript>
<div class="grain"></div>
<script>
// ===== DATA & HELPERS (unchanged from React version) =====
const API_URL = "/.netlify/functions/anthropic";

const AFFILIATE = {
  stockx:      { tag: "YOUR_STOCKX_CODE",  param: "utm_source" },
  goat:        { tag: "YOUR_GOAT_CODE",    param: "ref" },
  footlocker:  { tag: "YOUR_FL_CODE",      param: "AID" },
  jd:          { tag: "YOUR_JD_CODE",      param: "affil" },
  hibbett:     { tag: "YOUR_HIBBETT_CODE", param: "ref" },
  champssports:{ tag: "YOUR_CHAMPS_CODE",  param: "AID" },
  eastbay:     { tag: "YOUR_EASTBAY_CODE", param: "AID" },
  kickscrew:   { tag: "YOUR_KC_CODE",      param: "ref" },
};
function affLink(url, sourceId) {
  if (!url) return "#";
  const aff = AFFILIATE[sourceId];
  if (!aff || aff.tag.startsWith("YOUR_")) return url;
  try { const u = new URL(url); u.searchParams.set(aff.param, aff.tag); u.searchParams.set("utm_campaign", "sneakyradar"); return u.toString(); } catch { return url; }
}
function trackClick(drop, storeId) { console.log(`[SNEAKYRADAR] click — ${drop.name} -> ${storeId}`); }

const SPONSORED_DROPS = [];

const RESELL_DATA = [
  // === JORDAN ===
  { brand:"Jordan",name:"Air Jordan 1 Retro High Chicago",retail:"$180",low:"$350",avg:"$420",high:"$520",trend:"+15%",hot:true,vol:"1.8k sales/wk"},
  { brand:"Jordan",name:"Air Jordan 1 High Dark Mocha",retail:"$170",low:"$380",avg:"$493",high:"$580",trend:"+10%",hot:true,vol:"1.4k sales/wk"},
  { brand:"Jordan",name:"Air Jordan 3 White Cement Reimagined",retail:"$200",low:"$210",avg:"$248",high:"$310",trend:"+5%",hot:false,vol:"2.8k sales/wk"},
  { brand:"Jordan",name:"Air Jordan 4 Military Blue",retail:"$215",low:"$310",avg:"$348",high:"$420",trend:"+12%",hot:true,vol:"2.4k sales/wk"},
  { brand:"Jordan",name:"Air Jordan 4 Black Cat",retail:"$190",low:"$280",avg:"$340",high:"$410",trend:"+9%",hot:true,vol:"2.1k sales/wk"},
  { brand:"Jordan",name:"Air Jordan 4 Bred Reimagined",retail:"$210",low:"$290",avg:"$355",high:"$430",trend:"+14%",hot:true,vol:"1.9k sales/wk"},
  { brand:"Jordan",name:"Air Jordan 5 Retro Fire Red",retail:"$208",low:"$174",avg:"$198",high:"$299",trend:"-3%",hot:false,vol:"1.6k sales/wk"},
  { brand:"Jordan",name:"Air Jordan 11 Space Jam",retail:"$225",low:"$320",avg:"$395",high:"$480",trend:"+8%",hot:true,vol:"1.5k sales/wk"},
  { brand:"Jordan",name:"Air Jordan 11 Legend Blue",retail:"$220",low:"$178",avg:"$259",high:"$442",trend:"+2%",hot:false,vol:"1.3k sales/wk"},
  { brand:"Jordan",name:"Air Jordan 12 Taxi",retail:"$200",low:"$180",avg:"$215",high:"$280",trend:"+1%",hot:false,vol:"980 sales/wk"},
  { brand:"Jordan",name:"Air Jordan 13 Chicago (2026)",retail:"$215",low:"$240",avg:"$320",high:"$390",trend:"+18%",hot:true,vol:"870 sales/wk"},
  // === TRAVIS SCOTT ===
  { brand:"Travis Scott",name:"TS x Jordan 1 Low Reverse Mocha",retail:"$150",low:"$980",avg:"$1163",high:"$1400",trend:"+6%",hot:true,vol:"620 sales/wk"},
  { brand:"Travis Scott",name:"TS x Fragment x Jordan 1 Low",retail:"$150",low:"$1100",avg:"$1450",high:"$1800",trend:"+4%",hot:true,vol:"410 sales/wk"},
  { brand:"Travis Scott",name:"TS x Jordan 1 Low Black Phantom",retail:"$150",low:"$350",avg:"$440",high:"$550",trend:"+11%",hot:true,vol:"780 sales/wk"},
  { brand:"Travis Scott",name:"TS x Air Max 1 Baroque Brown",retail:"$150",low:"$420",avg:"$510",high:"$640",trend:"+22%",hot:true,vol:"890 sales/wk"},
  // === NIKE ===
  { brand:"Nike",name:"Dunk Low Panda",retail:"$110",low:"$58",avg:"$85",high:"$110",trend:"-8%",hot:false,vol:"5.1k sales/wk"},
  { brand:"Nike",name:"Dunk Low Grey Fog",retail:"$110",low:"$90",avg:"$115",high:"$140",trend:"+2%",hot:false,vol:"2.2k sales/wk"},
  { brand:"Nike",name:"SB Dunk Low Stranger Things",retail:"$120",low:"$250",avg:"$340",high:"$420",trend:"+28%",hot:true,vol:"560 sales/wk"},
  { brand:"Nike",name:"Air Force 1 Low White",retail:"$110",low:"$75",avg:"$95",high:"$120",trend:"-1%",hot:false,vol:"6.8k sales/wk"},
  { brand:"Nike",name:"Air Max 95 OG Neon",retail:"$190",low:"$200",avg:"$250",high:"$320",trend:"+7%",hot:true,vol:"1.1k sales/wk"},
  { brand:"Nike",name:"Air Max 1 Obsidian",retail:"$140",low:"$120",avg:"$148",high:"$180",trend:"+3%",hot:false,vol:"1.4k sales/wk"},
  { brand:"Nike",name:"Mars Yard 3.0",retail:"$275",low:"$750",avg:"$1075",high:"$1400",trend:"+291%",hot:true,vol:"320 sales/wk"},
  // === NIKE KOBE ===
  { brand:"Nike",name:"Kobe 6 Protro Reverse Grinch",retail:"$190",low:"$320",avg:"$410",high:"$520",trend:"+35%",hot:true,vol:"680 sales/wk"},
  { brand:"Nike",name:"Kobe 8 Protro What The",retail:"$190",low:"$280",avg:"$350",high:"$450",trend:"+25%",hot:true,vol:"540 sales/wk"},
  { brand:"Nike",name:"Kobe 6 Protro Grinch",retail:"$190",low:"$380",avg:"$470",high:"$580",trend:"+18%",hot:true,vol:"720 sales/wk"},
  { brand:"Nike",name:"Ja 3 Midnight Navy",retail:"$130",low:"$110",avg:"$138",high:"$175",trend:"+9%",hot:true,vol:"1.6k sales/wk"},
  // === OFF-WHITE ===
  { brand:"Nike",name:"Off-White Dunk Low Lot 1",retail:"$170",low:"$800",avg:"$980",high:"$1300",trend:"+18%",hot:true,vol:"340 sales/wk"},
  { brand:"Nike",name:"Off-White Jordan 4 Sail",retail:"$200",low:"$680",avg:"$820",high:"$1000",trend:"+12%",hot:true,vol:"290 sales/wk"},
  // === SACAI ===
  { brand:"Nike",name:"Sacai LD Waffle Green Gusto",retail:"$160",low:"$280",avg:"$360",high:"$440",trend:"+5%",hot:false,vol:"380 sales/wk"},
  // === ADIDAS ===
  { brand:"Adidas",name:"Samba OG Cloud White",retail:"$100",low:"$128",avg:"$142",high:"$165",trend:"+8%",hot:true,vol:"3.7k sales/wk"},
  { brand:"Adidas",name:"Campus 00s Core Black",retail:"$100",low:"$85",avg:"$108",high:"$135",trend:"+4%",hot:false,vol:"3.2k sales/wk"},
  { brand:"Adidas",name:"Bad Bunny Response CL Brown",retail:"$160",low:"$190",avg:"$245",high:"$310",trend:"+15%",hot:true,vol:"680 sales/wk"},
  // === YEEZY ===
  { brand:"Yeezy",name:"350 V2 Zebra",retail:"$230",low:"$200",avg:"$245",high:"$300",trend:"+3%",hot:false,vol:"1.8k sales/wk"},
  { brand:"Yeezy",name:"350 V2 Bred",retail:"$230",low:"$280",avg:"$330",high:"$390",trend:"+5%",hot:true,vol:"920 sales/wk"},
  { brand:"Yeezy",name:"Slide Onyx",retail:"$60",low:"$80",avg:"$110",high:"$145",trend:"-4%",hot:false,vol:"3.4k sales/wk"},
  { brand:"Yeezy",name:"Foam Runner Onyx",retail:"$80",low:"$90",avg:"$120",high:"$155",trend:"-2%",hot:false,vol:"2.1k sales/wk"},
  { brand:"Yeezy",name:"700 Wave Runner",retail:"$300",low:"$240",avg:"$290",high:"$360",trend:"+2%",hot:false,vol:"1.1k sales/wk"},
  { brand:"Yeezy",name:"350 V1 Turtle Dove (2022)",retail:"$230",low:"$280",avg:"$350",high:"$440",trend:"+10%",hot:true,vol:"380 sales/wk"},
  { brand:"Yeezy",name:"750 Light Brown",retail:"$350",low:"$800",avg:"$1100",high:"$1500",trend:"+8%",hot:true,vol:"120 sales/wk"},
  // === NEW BALANCE ===
  { brand:"New Balance",name:"990v6 Made in USA Grey",retail:"$199",low:"$195",avg:"$215",high:"$250",trend:"+4%",hot:false,vol:"1.6k sales/wk"},
  { brand:"New Balance",name:"990v4 Made in USA",retail:"$185",low:"$195",avg:"$208",high:"$240",trend:"+3%",hot:false,vol:"1.2k sales/wk"},
  { brand:"New Balance",name:"2002R Protection Pack Rain Cloud",retail:"$140",low:"$160",avg:"$195",high:"$240",trend:"+7%",hot:true,vol:"1.5k sales/wk"},
  { brand:"New Balance",name:"550 White Green",retail:"$110",low:"$95",avg:"$118",high:"$150",trend:"+2%",hot:false,vol:"2.8k sales/wk"},
  { brand:"New Balance",name:"204L Cream",retail:"$130",low:"$145",avg:"$175",high:"$210",trend:"+20%",hot:true,vol:"680 sales/wk"},
  // === ASICS ===
  { brand:"ASICS",name:"Gel-1130 Black Pure Silver",retail:"$110",low:"$130",avg:"$155",high:"$190",trend:"+12%",hot:true,vol:"2.9k sales/wk"},
  { brand:"ASICS",name:"Gel-Kayano 14 Ivory",retail:"$130",low:"$165",avg:"$182",high:"$210",trend:"+6%",hot:true,vol:"1.8k sales/wk"},
  { brand:"ASICS",name:"Gel-Kayano 14 Black",retail:"$130",low:"$140",avg:"$165",high:"$200",trend:"+8%",hot:true,vol:"1.4k sales/wk"},
  // === EMERGING BRANDS ===
  { brand:"Puma",name:"Speedcat OG Black",retail:"$100",low:"$110",avg:"$138",high:"$170",trend:"+15%",hot:true,vol:"780 sales/wk"},
  { brand:"Salomon",name:"XT-6 Black Phantom",retail:"$190",low:"$195",avg:"$228",high:"$280",trend:"+12%",hot:true,vol:"620 sales/wk"},
  { brand:"Mizuno",name:"Wave Prophecy LS Black",retail:"$250",low:"$270",avg:"$320",high:"$390",trend:"+30%",hot:true,vol:"340 sales/wk"},
  { brand:"Onitsuka Tiger",name:"Mexico 66 Cream Sage",retail:"$110",low:"$125",avg:"$148",high:"$180",trend:"+18%",hot:true,vol:"520 sales/wk"},
  { brand:"Converse",name:"Shai 001 Black White",retail:"$120",low:"$130",avg:"$158",high:"$195",trend:"+22%",hot:true,vol:"480 sales/wk"},
];

const AUTH_GUIDES = [
  { model:"Nike Dunk Low",difficulty:"Medium",fakeScore:87,checks:[
    {area:"Swoosh Shape",real:"Clean taper, consistent thickness end-to-end",fake:"Swoosh often too thick at toe end or uneven width",tip:"Hold at eye level — the Swoosh tip should come to a sharp, clean point"},
    {area:"Toe Box Stitching",real:"8-10 tight, even stitches per inch, no loose threads",fake:"Irregular spacing, loose threads, or glue visible at seams",tip:"Count the stitches — fakes usually have 5-7 sloppy stitches per inch"},
    {area:"Heel Tab",real:"Nike text perfectly centered, firm rubber, no flex",fake:"Text offset or blurry, softer rubber that bends easily",tip:"Press the heel tab — legit pairs feel dense and don't flex at all"},
    {area:"Size Tag",real:"Clean laser print, correct font weight, barcode scans correctly",fake:"Blurry or off-color print, barcode often doesn't scan",tip:"Scan the barcode — if it doesn't resolve to Nike, walk away"},
    {area:"Box Label",real:"Font matches Nike spec, SKU matches shoe colorway exactly",fake:"Slightly wrong font, SKU doesn't match the actual shoe",tip:"Cross-reference the SKU on the box with StockX or Nike's site"},
  ]},
  { model:"Air Jordan 1",difficulty:"Hard",fakeScore:94,checks:[
    {area:"Collar Stitching",real:"Single-row stitching, tight and consistent around full ankle collar",fake:"Double stitching or inconsistent tension — often puckers at the back",tip:"Run your finger around the collar — any puckering or double rows = fake"},
    {area:"Jumpman Logo",real:"Clean silhouette, arms and legs proportional, no bleed",fake:"Stubby legs, thick arms, or ink bleed into surrounding material",tip:"Compare against Nike SNKRS product photo — any proportion difference is a red flag"},
    {area:"Tongue Tag",real:"Bold clean font, correct thread color for colorway, no fraying",fake:"Lighter font weight, wrong thread color, fraying at edges",tip:"Thread color on tongue tag should exactly match the colorway's accent color"},
    {area:"Outsole",real:"Clean herringbone pattern, consistent depth, firm rubber",fake:"Shallow tread, softer rubber, or uneven depth across the sole",tip:"Press your thumbnail into the outsole — legit rubber resists; fakes dent"},
    {area:"Wings Logo",real:"Perfectly debossed into leather, uniform depth, no smearing",fake:"Stamped too shallow or unevenly — one wing often higher than the other",tip:"Check both wings are at identical height — uneven wings = likely fake"},
  ]},
  { model:"Yeezy 350 V2",difficulty:"Very Hard",fakeScore:96,checks:[
    {area:"Primeknit Pattern",real:"Consistent 3-stripe weave, no loose threads, pattern aligns at seams",fake:"Slightly off-pattern weave, threads visible, misaligned at seam joins",tip:"Under bright light, check that weave pattern flows seamlessly across every seam"},
    {area:"SPLY-350 Text",real:"Consistent font, correct 45 degree lean angle, slightly reflective",fake:"Wrong font weight, doesn't reflect correctly, or angle is off",tip:"SPLY-350 should be at exactly 45 degrees — use a protractor app if unsure"},
    {area:"Boost Sole",real:"Hundreds of uniform beads, consistent translucency, firm but springy",fake:"Inconsistent bead size, too opaque or too clear, feels harder",tip:"Squeeze the Boost midsole — it should spring back instantly"},
    {area:"Heel Patch",real:"Perfectly adhered, no lifting edges, correct font and spacing",fake:"Lifting at edges, adhesive visible, font slightly too bold or light",tip:"Press down on all four corners of the heel patch — any lift = fake"},
    {area:"Inner Label",real:"Correct Adidas font, clean print, QR code resolves to Adidas",fake:"Slightly blurry print, QR code leads nowhere",tip:"Scan the QR code — it should go directly to the Adidas product page"},
  ]},
  { model:"New Balance 550",difficulty:"Easy",fakeScore:71,checks:[
    {area:"N Logo Stitching",real:"Clean multi-layer embroidery, correct stitch count, firm backing",fake:"Single layer, floppy logo, visible backing through the N stitches",tip:"Pinch the N logo — on legit pairs it feels thick and structured"},
    {area:"Toe Cap Shape",real:"Slightly rounded, consistent curve, leather meets mesh cleanly",fake:"Too flat or too pointed, leather and mesh don't meet evenly",tip:"View from directly above — toe cap curve should be perfectly symmetrical"},
    {area:"Outsole Color",real:"Off-white or cream on most colorways, consistent across full length",fake:"Bright white on colorways that should be cream, or uneven coloring",tip:"Outsole color should always match product photos exactly"},
  ]},
  { model:"Jordan 4 Black Cat",difficulty:"Hard",fakeScore:93,checks:[
    {area:"Jumpman Tongue",real:"Clean embroidery, centered Jumpman, consistent thread thickness",fake:"Leaning or bloated Jumpman, uneven thread weight",tip:"Compare the tongue Jumpman to an official Nike product image side-by-side"},
    {area:"Nubuck Quality",real:"Soft nubuck, consistent nap direction, reacts to brushing",fake:"Plasticky synthetic nubuck, stiff feel, nap doesn't respond",tip:"Brush the nubuck with your thumb — authentic will show a lighter trail"},
    {area:"Heel AIR Text",real:"Thin, precise 'AIR' lettering, clean mold",fake:"Bolder, thicker text, rough edges on letters",tip:"The 'AIR' should look thin and crisp, never chunky"},
    {area:"Side Cage",real:"Evenly spaced diamond-shaped netting, clean bonding",fake:"Irregular diamond sizes, glue overflow at cage edges",tip:"Hold the shoe at an angle — cage holes should be perfectly uniform"},
    {area:"Tongue Height",real:"Tall, padded tongue that stays upright",fake:"Short, thin tongue that flops to one side",tip:"Short tongue is an immediate red flag on Jordan 4s"},
  ]},
  { model:"Travis Scott J1 Low",difficulty:"Very Hard",fakeScore:97,checks:[
    {area:"Reverse Swoosh",real:"Tip points at first lace hole, tight stitching, clean edges",fake:"Swoosh tip misaligned, loose or uneven stitching",tip:"The reverse Swoosh tip should aim directly at the first lace hole"},
    {area:"Cactus Jack Logo",real:"Precise embroidery, thin lettering, correct proportions",fake:"Thicker, bolder text, horizontally stretched font",tip:"Authentic Cactus Jack text looks small and vertically stretched"},
    {area:"Suede Quality",real:"Buttery, alive nap that moves when brushed, rich color",fake:"Dead suede that doesn't respond, wrong shade (too light or dark)",tip:"Brush the suede — it should instantly lighten and show movement"},
    {area:"Interior Tongue Label",real:"Sharp, properly spaced text, correct font weight",fake:"Thin, wavy, or slanted text, wrong font size",tip:"The text should be perfectly horizontal — any wave pattern = fake"},
    {area:"Toe Box Perforations",real:"Small, evenly punched holes in a precise pattern",fake:"Oversized holes, inconsistent spacing",tip:"Hole size matters — authentic perforations are noticeably smaller"},
  ]},
  { model:"Nike Kobe 6 Protro",difficulty:"Hard",fakeScore:91,checks:[
    {area:"Mamba Logo",real:"Flush with tongue, sharp lines, glittery finish on some colorways",fake:"Chunky raised badge, dull finish, thick outline",tip:"The shield badge should sit flat on the tongue, not stick out"},
    {area:"Kobe Signature",real:"Thin, delicate signature on heel, lighter shade of red",fake:"Too thick, too dark, signature feels raised",tip:"The signature should look handwritten and thin — bold means fake"},
    {area:"Zoom Air Unit",real:"Forefoot only, visible via X-ray, responsive cushioning",fake:"Often includes incorrect heel cushioning, less responsive",tip:"Press the forefoot — you should feel a distinct Zoom Air pop"},
    {area:"Outsole Traction",real:"Razor-sharp herringbone pattern, consistent depth",fake:"Shallow or uneven tread pattern, softer rubber",tip:"Run your finger across — authentic herringbone feels sharp like a cheese grater"},
    {area:"Size Tag",real:"Thin, precise text, correct style ID for colorway",fake:"Bolder text, wrong font weight, style ID may not match",tip:"Always verify the style ID matches the colorway on Nike or StockX"},
  ]},
  { model:"Yeezy Slide",difficulty:"Medium",fakeScore:89,checks:[
    {area:"Foam Texture",real:"Smooth, consistent EVA foam, no visible seam lines",fake:"Rougher texture, visible mold lines, inconsistent density",tip:"Run your hand across — authentic slides feel perfectly smooth"},
    {area:"Adidas Logo",real:"Cleanly molded trefoil on footbed, crisp edges",fake:"Blurry or shallow logo, rough edges around trefoil",tip:"The trefoil leaves should have sharp, defined edges"},
    {area:"Shape Profile",real:"Specific arch height and toe curve, matches size chart",fake:"Flatter arch, wider toe opening, inconsistent sizing",tip:"View from the side — the arch should have a distinct curve"},
    {area:"Weight",real:"Lightweight but substantial, around 200-250g per slide",fake:"Often noticeably heavier or lighter than authentic",tip:"If they feel unusually heavy for foam slides, be suspicious"},
  ]},
  { model:"Air Force 1",difficulty:"Medium",fakeScore:82,checks:[
    {area:"Toe Box Shape",real:"Clean, slightly rounded toe with precise perforations",fake:"Too boxy or too rounded, uneven perforation alignment",tip:"Compare toe shape to Nike.com product images from above"},
    {area:"Swoosh Placement",real:"Tip of Swoosh aligned with lowest eyelet, firm stitching",fake:"Swoosh sits too high or low, loose stitching at ends",tip:"Draw an imaginary line from the lowest eyelet — the Swoosh tip should touch it"},
    {area:"Midsole Stitching",real:"Tight, evenly spaced stitches around the full midsole rim",fake:"Irregular spacing, skipped stitches, visible glue",tip:"Count stitches per inch — authentic AF1s have consistent, tight rows"},
    {area:"Heel Logo",real:"Clean 'NIKE AIR' or 'AIR' stamp, properly recessed",fake:"Blurry stamp, wrong depth, or misaligned text",tip:"On newer AF1s, 'AIR' should be cleanly debossed into the rubber"},
  ]},
  { model:"ASICS Gel-1130",difficulty:"Medium",fakeScore:78,checks:[
    {area:"GEL Insert",real:"Visible GEL cushioning in heel, clear/slightly blue tint",fake:"Opaque or no GEL visible, wrong color tint",tip:"Look at the midsole window — authentic GEL is visible and slightly translucent"},
    {area:"Tiger Stripes",real:"Clean stitching, consistent width, flush with upper",fake:"Uneven stripe width, loose stitching, lifting at edges",tip:"Each stripe should be identical width with tight, flat stitching"},
    {area:"Tongue Label",real:"'ASICS' in correct corporate font, clean print, straight alignment",fake:"Wrong font, blurry print, or tilted label",tip:"The ASICS logo should be perfectly horizontal on the tongue tag"},
    {area:"Outsole Pattern",real:"AHAR rubber, defined tread pattern, consistent depth",fake:"Softer rubber, shallow or uneven tread",tip:"ASICS outsoles are durable — if the rubber dents easily with a fingernail, it's fake"},
  ]},
  { model:"Adidas Samba",difficulty:"Medium",fakeScore:85,checks:[
    {area:"Leather Quality",real:"Full-grain leather, soft but structured, consistent grain pattern",fake:"Synthetic or low-grade leather, plasticky sheen, no grain",tip:"Scratch the leather lightly — real leather shows a faint scratch mark that fades"},
    {area:"T-Toe Design",real:"Clean rubber T-shaped toe guard, precise bonding to upper",fake:"Sloppy rubber edges, glue overflow, T-shape is wrong proportion",tip:"The rubber-to-leather bond should be invisible — any visible glue = fake"},
    {area:"Three Stripes",real:"Suede stripes with consistent nap, clean stitching, even spacing",fake:"Stiff stripes, irregular spacing, loose threads at edges",tip:"All three stripes should be exactly the same width and evenly spaced"},
    {area:"Gold Foil Logo",real:"Crisp 'adidas' foil stamp on side, clean edges, doesn't flake",fake:"Blurry foil, already flaking on new pairs, wrong gold tone",tip:"Fresh Sambas should have perfectly crisp gold stamping — flaking on DS pairs is a red flag"},
  ]},
  { model:"Nike SB Dunk",difficulty:"Hard",fakeScore:92,checks:[
    {area:"Padded Tongue",real:"Thick, puffy tongue with correct foam fill, holds shape",fake:"Thinner tongue, less padding, collapses when pressed",tip:"SB Dunks have noticeably thicker tongues than regular Dunks — if it feels thin, investigate"},
    {area:"Zoom Air Insole",real:"Zoom Air unit in heel, responsive bounce, correct thickness",fake:"Basic foam insole, no Zoom Air, flat feel when walking",tip:"Press the insole heel — you should feel a distinct air cushion pop back"},
    {area:"Heel Stitching",real:"Clean NIKE embroidery, correct thread thickness, centered",fake:"Uneven text, wrong thread weight, off-center placement",tip:"The NIKE text should be perfectly horizontal and centered on the heel panel"},
    {area:"Toebox Perfs",real:"Two rows of evenly punched perforations, consistent size",fake:"Uneven holes, extra row of perfs, or inconsistent sizing",tip:"Count the perf rows and check each hole size — fakes often add an extra row"},
    {area:"Lace Tips",real:"Correct metal or plastic aglets, clean cut, proper branding",fake:"Wrong aglet type, rough cut, missing branding",tip:"SB Dunks have specific lace tip styles per release — check against reference images"},
  ]},
];

const ALL_SOURCES = [
  {id:"stockx",label:"StockX",url:"stockx.com",color:"#00ff94"},
  {id:"goat",label:"GOAT",url:"goat.com",color:"#ffffff"},
  {id:"ebay",label:"eBay",url:"ebay.com",color:"#e53238"},
  {id:"amazon",label:"Amazon",url:"amazon.com",color:"#ff9900"},
];

const BRAND_FILTERS = ["All","Nike","Jordan","Adidas","New Balance","ASICS","Puma","Reebok","On Running"];

const DEFAULT_DROPS = [
  {brand:"Jordan",name:"Teyana Taylor x Air Jordan 3 Concrete Rose",date:"Mar 7, 2026",retail:"$280",resell:"$450+",hype:96,badge:"hot",colorway:"Fir/Gorge Green-Cement Grey",method:"SNKRS Draw",source:"SNKRS",image:null,sourceUrl:"https://nike.com/launch",prices:[{store:"SNKRS",storeId:"snkrs",price:"$280",url:"https://nike.com/launch"},{store:"StockX",storeId:"stockx",price:"$450",url:"https://stockx.com"},{store:"GOAT",storeId:"goat",price:"$460",url:"https://goat.com"}]},
  {brand:"Jordan",name:"Air Jordan 4 Lakers",date:"Mar 7, 2026",retail:"$220",resell:"$380+",hype:94,badge:"hot",colorway:"Imperial Purple/Multi-Color",method:"SNKRS",source:"SNKRS",image:null,sourceUrl:"https://nike.com/launch",prices:[{store:"SNKRS",storeId:"snkrs",price:"$220",url:"https://nike.com/launch"},{store:"StockX",storeId:"stockx",price:"$380",url:"https://stockx.com"},{store:"GOAT",storeId:"goat",price:"$390",url:"https://goat.com"}]},
  {brand:"Jordan",name:"Air Jordan 13 Chicago",date:"Mar 13, 2026",retail:"$215",resell:"$320+",hype:91,badge:"hot",colorway:"White/Black-True Red",method:"SNKRS",source:"SNKRS",image:null,sourceUrl:"https://nike.com/launch",prices:[{store:"SNKRS",storeId:"snkrs",price:"$215",url:"https://nike.com/launch"},{store:"StockX",storeId:"stockx",price:"$320",url:"https://stockx.com"},{store:"GOAT",storeId:"goat",price:"$330",url:"https://goat.com"}]},
  {brand:"Jordan",name:"Air Jordan 14 Black University Blue",date:"Mar 21, 2026",retail:"$205",resell:"$280+",hype:82,badge:"upcoming",colorway:"Black/University Blue",method:"SNKRS",source:"SNKRS",image:null,sourceUrl:"https://nike.com/launch",prices:[{store:"SNKRS",storeId:"snkrs",price:"$205",url:"https://nike.com/launch"},{store:"StockX",storeId:"stockx",price:"$280",url:"https://stockx.com"},{store:"GOAT",storeId:"goat",price:"$290",url:"https://goat.com"}]},
  {brand:"Jordan",name:"Virgil Abloh x Air Jordan 1 High Alaska",date:"Mar 28, 2026",retail:"$230",resell:"$600+",hype:99,badge:"limited",colorway:"White/White",method:"SNKRS Draw",source:"SNKRS",image:null,sourceUrl:"https://nike.com/launch",prices:[{store:"SNKRS",storeId:"snkrs",price:"$230",url:"https://nike.com/launch"},{store:"StockX",storeId:"stockx",price:"$600",url:"https://stockx.com"},{store:"GOAT",storeId:"goat",price:"$620",url:"https://goat.com"}]},
  {brand:"Nike",name:"Air Max 95 OG Neon",date:"Mar 5, 2026",retail:"$190",resell:"$250+",hype:88,badge:"hot",colorway:"Black/Cool Grey-Neon Yellow",method:"Nike.com",source:"Nike",image:null,sourceUrl:"https://nike.com",prices:[{store:"Nike",storeId:"nike",price:"$190",url:"https://nike.com"},{store:"StockX",storeId:"stockx",price:"$250",url:"https://stockx.com"},{store:"GOAT",storeId:"goat",price:"$260",url:"https://goat.com"}]},
];

// === KicksDB-based data fetching ===

function kicksToDrops(products) {
  return (products || []).map(p => {
    const slug = p.slug || "";
    const stockxUrl = slug ? `https://stockx.com/${slug}` : null;
    const avgPrice = p.avg_price || p.min_price || null;
    const retailPrice = p.retail_price || null;
    // Determine badge based on data
    let badge = "hot";
    if (p.upcoming) badge = "upcoming";
    else if (p.weekly_orders && p.weekly_orders < 5) badge = "limited";
    // Hype score from rank/orders
    let hype = null;
    if (p.weekly_orders) hype = Math.min(99, Math.round(50 + Math.log2(p.weekly_orders + 1) * 8));
    else if (p.rank) hype = Math.max(30, Math.min(95, 100 - Math.round(p.rank / 100)));

    // Build price comparison array
    const prices = [];
    if (p.min_price) {
      prices.push({
        store: "StockX",
        storeId: "stockx",
        price: `$${Math.round(p.min_price)}`,
        url: stockxUrl || "https://stockx.com",
      });
    }
    // GOAT: no prices available via KicksDB — show "Check Price" with affiliate link
    if (p._goat && p._goat.link) {
      prices.push({
        store: "GOAT",
        storeId: "goat",
        price: "Check Price",
        url: p._goat.link,
      });
    }

    // eBay: real prices from Browse API
    if (p._ebay && p._ebay.price) {
      prices.push({
        store: p._ebay.authenticity ? "eBay ✓" : "eBay",
        storeId: "ebay",
        price: `$${Math.round(p._ebay.price)}`,
        url: p._ebay.url || "https://www.ebay.com",
      });
    }

    // Amazon: search link with affiliate tag
    const amzQuery = encodeURIComponent((p.title || p.name || "") + " " + (p.sku || ""));
    prices.push({
      store: "Amazon",
      storeId: "amazon",
      price: "Check Price",
      url: "https://www.amazon.com/s?k=" + amzQuery + "&tag=sneakyradar-20",
    });

    // Use GOAT release_date if StockX doesn't have one
    const releaseDate = p.release_date || (p._goat && p._goat.release_date) || null;

    // Price range from StockX
    const lowestPrice = p.min_price || null;
    const maxPrice = p.max_price || null;

    // Build source label
    const sourceNames = ["StockX"];
    if (p._goat) sourceNames.push("GOAT");
    if (p._ebay) sourceNames.push("eBay");
    sourceNames.push("Amazon");

    return {
      brand: p.brand || "Unknown",
      name: p.title || p.name || "Unknown",
      date: releaseDate ? new Date(releaseDate).toLocaleDateString("en-US", {month:"short",day:"numeric",year:"numeric"}) : (p.upcoming ? "Coming Soon" : "Available"),
      retail: retailPrice ? `$${retailPrice}` : (avgPrice ? `$${Math.round(avgPrice)}` : "—"),
      resell: lowestPrice && maxPrice ? `$${Math.round(lowestPrice)} – $${Math.round(maxPrice)}` : (avgPrice ? `$${Math.round(avgPrice)}+` : null),
      hype: hype,
      badge: badge,
      colorway: p.colorway || p.color || null,
      method: null,
      image: p.image || null,
      source: sourceNames.join(" + "),
      sourceUrl: stockxUrl,
      sku: p.sku || null,
      slug: slug,
      weeklyOrders: p.weekly_orders || 0,
      prices: prices,
    };
  });
}

async function fetchDrops(q, page = 1) {
  const action = q ? "search" : "trending";
  const payload = q
    ? { action: "search", query: q, limit: 50, page: page }
    : { action: "trending", limit: 50, page: page };

  console.log(`[SNEAKYRADAR] KicksDB ${action}:`, q || "trending", "page:", page);

  try {
    const res = await fetch(API_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload),
    });
    const json = await res.json();
    console.log("[SNEAKYRADAR] Raw API response:", JSON.stringify(json).substring(0, 200));

    if (json.error) {
      console.error("[SNEAKYRADAR] KicksDB error:", json.error);
      return [];
    }

    const products = json.data || [];
    console.log(`[SNEAKYRADAR] KicksDB returned ${products.length} products for page ${page}`);
    const drops = kicksToDrops(products);
    return drops;
  } catch(err) {
    console.error("[SNEAKYRADAR] KicksDB fetch error:", err.message);
    return [];
  }
}
const CHAT_SYSTEM_PROMPT = `You are SOLE — elite sneaker expert on SNEAKYRADAR. Deep knowledge of brands, drops, resell market, authentication, styling, collabs, history. Confident, street-savvy tone. Format shoe names **bold** and prices *italic*.`;
const SUGGESTED_QUESTIONS = ["What's the most hyped drop right now?","Best sneakers under $150?","How do I win SNKRS draws?","Which Jordans should I flip?"];

function dedupeDrops(drops) {
  const seen = new Map();
  for (const d of drops) {
    const key = `${d.brand?.toLowerCase()}-${d.name?.toLowerCase().replace(/\s+/g,'')}`;
    if (!seen.has(key)) { seen.set(key,{...d,sources:[d.source].filter(Boolean)}); }
    else { const e=seen.get(key); if(d.source&&!e.sources.includes(d.source))e.sources.push(d.source); if(d.hype>e.hype)e.hype=d.hype; }
  }
  return Array.from(seen.values()).sort((a,b)=>(b.hype||0)-(a.hype||0));
}
function fmtMsg(t) { return t.replace(/\*\*(.*?)\*\*/g,'<strong>$1</strong>').replace(/\*(.*?)\*/g,'<em>$1</em>').replace(/\n/g,'<br/>'); }

const BADGE_MAP = {hot:"badge-hot",upcoming:"badge-upcoming",limited:"badge-limited"};
const BADGE_LABELS = {hot:"🔥 HOT",upcoming:"UPCOMING",limited:"LIMITED"};

// Image cache no longer needed - KicksDB provides images directly


// ===== VANILLA JS RENDERING ENGINE =====

// --- State ---
let activePage = "drops";
let mobileMenuOpen = false;
let showAlertModal = false;

// Drop Radar state
let drops = DEFAULT_DROPS;
let dropsLoading = false;
let dropsLoadingMore = false;
let dropsError = null;
let srcFilter = "All";
let searchQuery = "";
let lastQuery = "";
let dropsPage = 1;
let hasMore = true;
let dropsUpdated = null;
let steps = [];
let activeCategory = "ALL";

// Resell state
let resellSortCol = "avg";
let resellBrandFilter = "All";

// Auth state
let authSelected = null;

// Releases state
let monthOffset = 0;
let releasesView = "list";
let releasesBrandFilter = "ALL";
let releasesSel = null;
let releases = [];
let relSource = "";
let relUpdated = "";

// Chat state
let chatOpen = false;
let chatMsgs = [{role:"assistant",content:"Yo, I'm **SOLE** — your sneaker expert on SNEAKYRADAR. Ask me about drops, resell, authentication, anything."}];
let chatInput = "";
let chatThinking = false;
let chatShowSug = true;

// Alert modal state
let alertEmail = "";
let alertDone = false;

// --- Escaping ---
function esc(s) {
  if (s == null) return "";
  return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");
}

// --- Rendering ---
function render() {
  const root = document.getElementById("root");
  root.innerHTML = renderAlertModal() + renderNav() + renderPage() + renderFooter() + renderChat();
  attachEvents();
}

function renderNav() {
  const tabs = [
    {id:"drops",label:"Drop Radar",icon:"📡"},
    {id:"releases",label:"Releases",icon:"📅",href:"/releases"},
    {id:"resell",label:"Resell Tracker",icon:"📈",href:"/resell"},
    {id:"auth",label:"Auth Guide",icon:"🔍",href:"/auth"},
    {id:"blog",label:"Blog",icon:"📝",href:"/blog"}
  ];
  return `<nav class="nav">
    <div class="nav-left">
      <div class="nav-logo" style="cursor:pointer" data-action="home"><span class="sneaky">SNEAKY</span><span class="radar">RADAR</span></div>
      <div class="nav-tabs">
        ${tabs.map(t => t.href
          ? `<a class="nav-tab" href="${t.href}" style="text-decoration:none"><span>${t.icon}</span>${t.label}</a>`
          : `<button class="nav-tab ${activePage===t.id?"active":""}" data-action="nav" data-page="${t.id}"><span>${t.icon}</span>${t.label}</button>`
        ).join("")}
      </div>
      <button class="hamburger" data-action="hamburger">${mobileMenuOpen ? "✕" : "☰"}</button>
    </div>
    ${mobileMenuOpen ? `<div class="mobile-menu">
      ${tabs.map(t => t.href
        ? `<a class="mobile-menu-item" href="${t.href}" style="text-decoration:none"><span>${t.icon}</span>${t.label}</a>`
        : `<button class="mobile-menu-item ${activePage===t.id?"active":""}" data-action="nav-mobile" data-page="${t.id}"><span>${t.icon}</span>${t.label}</button>`
      ).join("")}
    </div>` : ""}
    <div class="nav-right">
      <button class="alert-btn" data-action="alert-open"><span class="alert-dot"></span> Drop Alerts</button>
    </div>
  </nav>`;
}

function renderPage() {
  if (activePage === "drops") return renderDropsPage();
  if (activePage === "releases") return renderReleasesPage();
  if (activePage === "resell") return renderResellPage();
  if (activePage === "auth") return renderAuthPage();
  return "";
}

function renderFooter() {
  return `<footer class="site-footer">
    <div class="footer-logo"><span>SNEAKY</span><span class="radar">RADAR</span></div>
    <div><a href="/blog" style="color:#ff3c00;text-decoration:none">Blog</a> · Prices subject to change. Links may be affiliate links. Not affiliated with any retailer.</div>
  </footer>`;
}

// --- Alert Modal ---
function renderAlertModal() {
  if (!showAlertModal) return "";
  if (alertDone) {
    return `<div class="modal-overlay" data-action="alert-overlay">
      <div class="modal">
        <div class="modal-success" style="text-align:center;padding:40px 28px">
          <div style="font-size:2.5rem;margin-bottom:12px">🔥</div>
          <div style="font-family:'Bebas Neue',sans-serif;font-size:1.8rem;letter-spacing:3px;color:var(--accent2)">You're In</div>
          <div style="font-size:0.7rem;color:var(--muted);margin-top:8px">Drop alerts locked in for ${esc(alertEmail)}</div>
        </div>
      </div>
    </div>`;
  }
  return `<div class="modal-overlay" data-action="alert-overlay">
    <div class="modal">
      <div class="modal-header">
        <div class="modal-title">SNEAKY<span>ALERTS</span></div>
        <button class="modal-close" data-action="alert-close">✕</button>
      </div>
      <div class="modal-body">
        <div class="modal-desc">Get in before everyone else. 48hr advance notice, restocks, exclusive raffle links — straight to your inbox.</div>
        <div class="modal-features">
          ${["48hr advance drop notices","Restock alerts on sold-out grails","Exclusive raffle links before public","Weekly resell market digest"].map(f =>
            `<div class="modal-feature"><div class="modal-feature-dot"></div>${f}</div>`
          ).join("")}
        </div>
        <div class="modal-form">
          <input class="modal-input" type="email" placeholder="your@email.com" id="alert-email-input" value="${esc(alertEmail)}"/>
          <button class="modal-submit" data-action="alert-submit">ALERT ME</button>
        </div>
        <div class="modal-fine">No spam. Unsubscribe anytime.</div>
      </div>
    </div>
  </div>`;
}

// --- Drop Image ---
function renderDropImage(drop) {
  const src = (drop.image && drop.image !== "null") ? drop.image : null;
  const alt = esc((drop.brand ? drop.brand + " " : "") + drop.name);
  return `<div class="card-img-wrap" data-action="drop-click" data-url="${esc(drop.sourceUrl||"")}" data-source="${esc((drop.source||"").toLowerCase())}">
    ${src ? `<img class="card-img" src="${esc(src)}" alt="${alt}" loading="lazy" onerror="this.parentNode.innerHTML='<div class=\'card-img-placeholder\'>${esc((drop.name||"?")[0].toUpperCase())}</div>'+this.parentNode.querySelector('.card-source-tag')?.outerHTML||''"/>` : `<div class="card-img-placeholder">${esc((drop.name||"?")[0].toUpperCase())}</div>`}
    ${drop.source ? `<div class="card-source-tag">${esc(drop.source)}</div>` : ""}
  </div>`;
}

// --- Price Compare ---
function renderPriceCompare(prices, drop) {
  if (!prices || prices.length === 0) return "";
  const sorted = [...prices].sort((a,b)=>parseFloat(a.price.replace(/[^0-9.]/g,''))-parseFloat(b.price.replace(/[^0-9.]/g,'')));
  return `<div class="price-compare">
    <div class="price-compare-label">${prices.length > 1 ? "Compare Prices" : "Best Price"}</div>
    <div class="price-compare-rows">
      ${sorted.map((p,i) => `<div class="price-row">
        <span class="price-row-store">${esc(p.store)}</span>
        <span class="price-row-amount">${esc(p.price)}</span>
        <a href="${esc(affLink(p.url,p.storeId))}" target="_blank" rel="noopener noreferrer"
          class="price-row-btn ${i===0?"best":""}"
          onclick="event.stopPropagation();trackClick(${JSON.stringify({name:drop.name})},'${esc(p.storeId)}')">${i===0?"Best Deal":"Buy"}</a>
      </div>`).join("")}
    </div>
  </div>`;
}

// --- Drop Card ---
function renderDropCard(drop, i) {
  return `<div class="card ${drop.sponsored?"sponsored":""}">
    ${drop.sponsored ? `<div class="sponsor-banner"><span>${esc(drop.sponsorLabel||"Featured")}</span><span style="font-size:0.45rem;opacity:0.6">Sponsored</span></div>` : ""}
    ${renderDropImage(drop)}
    <div class="card-body">
      ${drop.badge ? `<div class="badge ${BADGE_MAP[drop.badge]||"badge-upcoming"}">${BADGE_LABELS[drop.badge]||esc(drop.badge)}</div>` : ""}
      <div class="card-brand">${esc(drop.brand)}</div>
      <div class="card-name" ${drop.sourceUrl ? `data-action="drop-click" data-url="${esc(drop.sourceUrl)}" data-source="${esc((drop.source||"").toLowerCase())}" style="cursor:pointer"` : ""}>${esc(drop.name)}</div>
      ${drop.colorway ? `<div class="card-colorway">${esc(drop.colorway)}</div>` : ""}
      <div class="card-meta">
        <div class="meta-row"><span class="meta-label">Release</span><span class="meta-value">${esc(drop.date||"TBD")}</span></div>
        <div class="meta-row"><span class="meta-label">Retail</span><span class="price">${esc(drop.retail||"—")}</span></div>
        ${drop.resell ? `<div class="meta-row"><span class="meta-label">Est. Resell</span><span class="meta-value">${esc(drop.resell)}</span></div>` : ""}
        ${drop.method ? `<div class="meta-row"><span class="meta-label">Method</span><span class="meta-value" style="font-size:0.65rem">${esc(drop.method)}</span></div>` : ""}
      </div>
      ${drop.hype ? `<div class="hype-bar"><div class="hype-fill" style="width:${drop.hype}%"></div></div><div class="hype-label"><span>Hype Index</span><span>${drop.hype}/100</span></div>` : ""}
      ${renderPriceCompare(drop.prices, drop)}
    </div>
  </div>`;
}

// --- Drops Page ---
function renderDropsPage() {
  const CATEGORY_SEARCHES = [
    {label: "ALL", query: "", group: "top"},
    {label: "JORDAN ALL", query: "Air Jordan Retro", group: "jordan"},
    {label: "JORDAN 1", query: "Jordan 1 Retro", group: "jordan"},
    {label: "JORDAN 2", query: "Jordan 2 Retro", group: "jordan"},
    {label: "JORDAN 3", query: "Jordan 3 Retro", group: "jordan"},
    {label: "JORDAN 4", query: "Jordan 4 Retro", group: "jordan"},
    {label: "JORDAN 5", query: "Jordan 5 Retro", group: "jordan"},
    {label: "JORDAN 6", query: "Jordan 6 Retro", group: "jordan"},
    {label: "JORDAN 7", query: "Jordan 7 Retro", group: "jordan"},
    {label: "JORDAN 8", query: "Jordan 8 Retro", group: "jordan"},
    {label: "JORDAN 9", query: "Jordan 9 Retro", group: "jordan"},
    {label: "JORDAN 10", query: "Jordan 10 Retro", group: "jordan"},
    {label: "JORDAN 11", query: "Jordan 11 Retro", group: "jordan"},
    {label: "JORDAN 12", query: "Jordan 12 Retro", group: "jordan"},
    {label: "JORDAN 13", query: "Jordan 13 Retro", group: "jordan"},
    {label: "JORDAN 14", query: "Jordan 14 Retro", group: "jordan"},
    {label: "---", group: "div1"},
    {label: "TRAVIS SCOTT", query: "Travis Scott", group: "nike"},
    {label: "NIKE DUNK", query: "Nike Dunk", group: "nike"},
    {label: "AIR FORCE 1", query: "Air Force 1", group: "nike"},
    {label: "AIR MAX", query: "Nike Air Max", group: "nike"},
    {label: "AIR MAX 90", query: "Nike Air Max 90", group: "nike"},
    {label: "AIR MAX 95", query: "Nike Air Max 95", group: "nike"},
    {label: "AIR MAX 97", query: "Nike Air Max 97", group: "nike"},
    {label: "NIKE SB", query: "Nike SB", group: "nike"},
    {label: "KOBE", query: "Nike Kobe", group: "nike"},
    {label: "FOAMPOSITE", query: "Nike Foamposite", group: "nike"},
    {label: "LEBRON", query: "Lebron", group: "nike"},
    {label: "JA MORANT", query: "Nike Ja", group: "nike"},
    {label: "SACAI", query: "Nike Sacai", group: "nike"},
    {label: "LUKA", query: "Jordan Luka", group: "nike"},
    {label: "---", group: "div2"},
    {label: "YEEZY BOOST", query: "Yeezy Boost", group: "yeezy"},
    {label: "YEEZY", query: "YZY", group: "yeezy"},
    {label: "ADIDAS", query: "Adidas", group: "yeezy"},
    {label: "BAD BUNNY", query: "Bad Bunny Adidas", group: "yeezy"},
    {label: "---", group: "div3"},
    {label: "BALENCIAGA", query: "Balenciaga sneakers", group: "designer"},
    {label: "VERSACE", query: "Versace sneakers", group: "designer"},
    {label: "LOUIS VUITTON", query: "Louis Vuitton sneakers", group: "designer"},
    {label: "ALEXANDER MCQUEEN", query: "Alexander McQueen sneakers", group: "designer"},
    {label: "GUCCI", query: "Gucci sneakers", group: "designer"},
    {label: "MAISON MIHARA", query: "Maison Mihara Yasuhiro", group: "designer"},
    {label: "BURBERRY", query: "Burberry sneakers", group: "designer"},
    {label: "PRADA", query: "Prada sneakers", group: "designer"},
    {label: "---", group: "div4"},
    {label: "NEW BALANCE", query: "New Balance", group: "other"},
    {label: "ASICS", query: "Asics", group: "other"},
    {label: "PUMA", query: "Puma", group: "other"},
    {label: "ON RUNNING", query: "On Running", group: "other"},
    {label: "ANTA", query: "Anta", group: "other"},
    {label: "SAUCONY", query: "Saucony", group: "other"},
    {label: "SALOMON", query: "Salomon", group: "other"},
    {label: "CONVERSE", query: "Converse", group: "other"},
    {label: "MIZUNO", query: "Mizuno", group: "other"},
    {label: "ONITSUKA", query: "Onitsuka Tiger", group: "other"},
    {label: "HOKA", query: "Hoka", group: "other"},
    {label: "BROOKS", query: "Brooks", group: "other"},
    {label: "VANS", query: "Vans", group: "other"},
    {label: "UGG", query: "UGG", group: "other"},
    {label: "CROCS", query: "Crocs", group: "other"},
  ];
  // Store globally for event handlers
  window._CATEGORY_SEARCHES = CATEGORY_SEARCHES;

  const allDrops = [...SPONSORED_DROPS, ...drops];
  const filtered = allDrops.filter(d => {
    if (d.sponsored) return true;
    return (srcFilter === "All" || d.source === srcFilter || (d.sources && d.sources.includes(srcFilter)));
  });

  let content;
  if (dropsLoading) {
    content = `<div class="loading-grid">
      ${[1,2,3,4,5,6].map(i => `<div class="loading-card"><div class="loading-img"></div><div class="loading-body"><div class="skeleton" style="width:60px;height:10px"></div><div class="skeleton" style="width:70%;height:24px;margin-top:8px"></div><div class="skeleton" style="width:100%;height:8px;margin-top:12px"></div></div></div>`).join("")}
    </div>`;
  } else if (filtered.length === 0) {
    content = `<div class="empty-state"><h2>NO DROPS</h2>adjust your filters</div>`;
  } else {
    content = `<div>
      <div class="grid">${filtered.map((d,i) => renderDropCard(d,i)).join("")}</div>
      ${hasMore && lastQuery && !dropsLoading ? `<div style="text-align:center;padding:32px 0">
        <button data-action="load-more" ${dropsLoadingMore?"disabled":""} style="background:${dropsLoadingMore?"var(--card)":"var(--accent)"};color:${dropsLoadingMore?"var(--muted)":"#000"};border:none;padding:14px 48px;border-radius:8px;font-family:'Bebas Neue',sans-serif;font-size:1.1rem;letter-spacing:2px;cursor:${dropsLoadingMore?"wait":"pointer"};transition:all 0.2s">
          ${dropsLoadingMore ? "LOADING..." : "LOAD MORE"}
        </button>
        <div style="font-size:0.65rem;color:var(--muted);margin-top:8px">Showing ${filtered.length} results</div>
      </div>` : ""}
    </div>`;
  }

  return `<div class="page"><div class="section-wrap">
    <div class="hero-header">
      <div class="hero-text">
        <div class="section-eyebrow">Live Intelligence</div>
        <h2 class="section-title"><span class="filled">DROP</span> <span class="outline">RADAR</span></h2>
        <p class="section-sub">Release tracking across every major retailer. Every upcoming drop, deduplicated and ranked by hype score.</p>
      </div>
      <div class="hero-img" id="hero-sneaker">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" style="opacity:0.08;width:80%;max-width:200px">
          <circle cx="100" cy="100" r="90" fill="none" stroke="#ff3c00" stroke-width="1.5"/>
          <circle cx="100" cy="100" r="60" fill="none" stroke="#ff3c00" stroke-width="1"/>
          <circle cx="100" cy="100" r="30" fill="none" stroke="#ff3c00" stroke-width="0.8"/>
          <line x1="100" y1="5" x2="100" y2="195" stroke="#ff3c00" stroke-width="0.5"/>
          <line x1="5" y1="100" x2="195" y2="100" stroke="#ff3c00" stroke-width="0.5"/>
        </svg>
      </div>
    </div>
    <div class="search-row">
      <div class="search-bar">
        <input id="search-input" value="${esc(searchQuery)}" placeholder="Search brand, colorway, silhouette..."/>
      </div>
      <button class="search-go-btn" data-action="search" ${dropsLoading?"disabled":""}>${dropsLoading?"SCANNING...":"SEARCH"}</button>
    </div>
    <div style="text-align:center;margin-top:16px;margin-bottom:6px;font-size:0.6rem;letter-spacing:3px;text-transform:uppercase;color:var(--accent)">Categories</div>
    <div class="filters">
      ${CATEGORY_SEARCHES.map((cat,idx) => cat.label === "---"
        ? `<div style="width:100%;height:1px;background:var(--accent);margin:6px 0;opacity:0.4"></div>`
        : `<button class="filter-btn ${activeCategory===cat.label?"active":""}" data-action="category" data-idx="${idx}">${esc(cat.label)}</button>`
      ).join("")}
    </div>
    ${dropsError ? `<div class="error-msg">⚠ ${esc(dropsError)}</div>` : ""}
    ${dropsLoading && steps.length > 0 ? `<div class="progress-steps">
      ${steps.map(s => `<div class="progress-step"><div class="step-dot ${s.status}"></div><span class="step-label ${s.status}">${s.status==="done" ? `✓ ${esc(s.label)}${s.count!=null?` (${s.count})`:""}` : s.status==="active" ? `scanning ${esc(s.label)}...` : esc(s.label)}</span></div>`).join("")}
    </div>` : ""}
    <div class="status-bar">
      <div class="pulse-dot"></div>
      ${dropsLoading ? "Scanning all sources..." : `${filtered.length} drops tracked`}
      ${dropsUpdated ? `<span style="margin-left:auto">Updated ${esc(dropsUpdated)}</span>` : ""}
    </div>
    ${content}
  </div></div>`;
}

// --- Resell Page ---
function renderResellPage() {
  const p = v => parseFloat(v.replace(/[^0-9.]/g,''));
  const brands = ["All", ...new Set(RESELL_DATA.map(d => d.brand))];
  const sorted = [...RESELL_DATA]
    .filter(d => resellBrandFilter === "All" || d.brand === resellBrandFilter)
    .sort((a,b) => {
      if (resellSortCol === "avg") return p(b.avg) - p(a.avg);
      if (resellSortCol === "trend") return parseFloat(b.trend) - parseFloat(a.trend);
      return 0;
    });

  return `<div class="page"><div class="section-wrap">
    <div class="section-eyebrow">Market Intelligence</div>
    <h2 class="section-title"><span class="filled">RESELL</span> <span class="outline">TRACKER</span></h2>
    <p class="section-sub">Retail vs. market price, trend direction, and weekly sales volume — everything you need to buy, hold, or flip.</p>
    <div class="resell-stats">
      <div class="resell-stat"><div class="resell-stat-label">Models Tracked</div><div class="resell-stat-value">52</div><div class="resell-stat-sub">across 12 brands</div></div>
      <div class="resell-stat"><div class="resell-stat-label">Hottest Model</div><div class="resell-stat-value">TS1</div><div class="resell-stat-sub">Travis Scott Fragment avg $1,450</div></div>
      <div class="resell-stat"><div class="resell-stat-label">Best Flip</div><div class="resell-stat-value">MY3</div><div class="resell-stat-sub">Mars Yard 3.0 avg +291% ROI</div></div>
      <div class="resell-stat"><div class="resell-stat-label">Weekly Vol</div><div class="resell-stat-value">68k</div><div class="resell-stat-sub">verified sales tracked this week</div></div>
    </div>
    <div class="filters" style="margin-bottom:20px">
      ${brands.map(b => `<button class="filter-btn ${resellBrandFilter===b?"active":""}" data-action="resell-brand" data-brand="${esc(b)}">${esc(b)}</button>`).join("")}
    </div>
    <table class="resell-table">
      <thead><tr>
        <th>Model</th><th>Retail</th>
        <th style="color:${resellSortCol==="avg"?"var(--accent2)":"var(--muted)"}" data-action="resell-sort" data-col="avg">Avg ${resellSortCol==="avg"?"↓":""}</th>
        <th>Low / High</th>
        <th style="color:${resellSortCol==="trend"?"var(--accent2)":"var(--muted)"}" data-action="resell-sort" data-col="trend">Trend ${resellSortCol==="trend"?"↓":""}</th>
        <th>Volume</th><th>Buy</th>
      </tr></thead>
      <tbody>
        ${sorted.map(d => `<tr>
          <td><div style="display:flex;align-items:center;gap:10px">${d.hot?`<span class="hot-tag">HOT</span>`:``}<div><div class="resell-brand">${esc(d.brand)}</div><div class="resell-name">${esc(d.name)}</div></div></div></td>
          <td><span class="resell-price-low">${esc(d.retail)}</span></td>
          <td><span class="resell-price-avg">${esc(d.avg)}</span></td>
          <td><span class="resell-price-low">${esc(d.low)}</span><span style="color:var(--border);margin:0 4px">/</span><span class="resell-price-high">${esc(d.high)}</span></td>
          <td><span class="${d.trend.startsWith("-")?"trend-down":"trend-up"}">${esc(d.trend)}</span></td>
          <td><span class="vol-tag">${esc(d.vol)}</span></td>
          <td><div style="display:flex;gap:6px">
            <a href="https://stockx.com/search?s=${encodeURIComponent(d.name)}" target="_blank" rel="noopener noreferrer" class="resell-buy-btn">StockX</a>
            <a href="https://goat.com/search?query=${encodeURIComponent(d.name)}" target="_blank" rel="noopener noreferrer" class="resell-buy-btn">GOAT</a>
          </div></td>
        </tr>`).join("")}
      </tbody>
    </table>
    <div class="resell-mobile">
      ${sorted.map(d => `<div class="resell-m-card">
        <div class="resell-m-top">
          <div>
            <div class="resell-m-brand">${d.hot?`<span class="hot-tag" style="margin-right:6px">HOT</span>`:``}${esc(d.brand)}</div>
            <div class="resell-m-name">${esc(d.name)}</div>
          </div>
          <div style="text-align:right">
            <div class="resell-m-avg">${esc(d.avg)}</div>
            <div class="${d.trend.startsWith("-")?"trend-down":"trend-up"}" style="font-size:0.65rem">${esc(d.trend)}</div>
          </div>
        </div>
        <div class="resell-m-row"><span>Retail</span><span>${esc(d.retail)}</span></div>
        <div class="resell-m-row"><span>Range</span><span>${esc(d.low)} — ${esc(d.high)}</span></div>
        <div class="resell-m-row"><span>Volume</span><span>${esc(d.vol)}</span></div>
        <div class="resell-m-btns">
          <a href="https://stockx.com/search?s=${encodeURIComponent(d.name)}" target="_blank" rel="noopener noreferrer">StockX</a>
          <a href="https://goat.com/search?query=${encodeURIComponent(d.name)}" target="_blank" rel="noopener noreferrer">GOAT</a>
        </div>
      </div>`).join("")}
    </div>
  </div></div>`;
}

// --- Auth Page ---
function renderAuthPage() {
  return `<div class="page"><div class="section-wrap">
    <div class="section-eyebrow">Know Before You Buy</div>
    <h2 class="section-title"><span class="filled">AUTH</span> <span class="outline">GUIDE</span></h2>
    <p class="section-sub">Spot fakes before you get burned. Expert check-by-check authentication guides for the most-faked silhouettes.</p>
    <div class="auth-grid">
      ${AUTH_GUIDES.map((g,i) => `<div class="auth-card ${authSelected===i?"selected":""}" data-action="auth-toggle" data-idx="${i}">
        <div class="auth-model">${esc(g.model)}</div>
        <div class="auth-diff ${g.difficulty.toLowerCase().replace(" ","")}">${esc(g.difficulty)} to Fake</div>
        <div><div class="fake-score-label"><span>Fake Prevalence</span><span>${g.fakeScore}%</span></div><div class="fake-score-bar"><div class="fake-score-fill" style="width:${g.fakeScore}%"></div></div></div>
        <div class="auth-cta">${authSelected===i ? "▲ Collapse" : "▼ View "+g.checks.length+" checks"}</div>
      </div>`).join("")}
    </div>
    ${authSelected !== null ? `<div class="auth-detail">
      <div class="auth-detail-header">
        <div class="auth-detail-title">${esc(AUTH_GUIDES[authSelected].model)} — Authentication Checklist</div>
        <button class="auth-detail-close" data-action="auth-close">✕ Close</button>
      </div>
      <div style="padding:10px 28px;background:#0e0e0e;border-bottom:1px solid var(--border);display:grid;grid-template-columns:160px 1fr 1fr 1fr;gap:20px">
        <div style="font-size:0.5rem;letter-spacing:3px;text-transform:uppercase;color:var(--muted)">Check Area</div>
        <div style="font-size:0.5rem;letter-spacing:3px;text-transform:uppercase;color:var(--green)">✓ Legit</div>
        <div style="font-size:0.5rem;letter-spacing:3px;text-transform:uppercase;color:var(--accent)">✗ Fake</div>
        <div style="font-size:0.5rem;letter-spacing:3px;text-transform:uppercase;color:var(--accent2)">💡 Pro Tip</div>
      </div>
      <div>
        ${AUTH_GUIDES[authSelected].checks.map(c => `<div class="auth-check">
          <div class="auth-check-area">${esc(c.area)}</div>
          <div class="auth-check-real">${esc(c.real)}</div>
          <div class="auth-check-fake">${esc(c.fake)}</div>
          <div class="auth-check-tip">${esc(c.tip)}</div>
        </div>`).join("")}
      </div>
    </div>` : ""}
  </div></div>`;
}

// --- Releases Page ---
function renderReleasesPage() {
  const today = new Date();
  const vd = new Date(today.getFullYear(), today.getMonth() + monthOffset, 1);
  const mn = vd.toLocaleString('default', {month: 'long'});
  const yr = vd.getFullYear();
  const bOpts = ["ALL","JORDAN","NIKE","ADIDAS","COLLAB"];
  const filtered = releases.filter(r => {
    if (releasesBrandFilter === "ALL") return true;
    if (releasesBrandFilter === "COLLAB") return r.collab;
    return r.brand.toUpperCase() === releasesBrandFilter;
  });
  const monthRels = filtered.filter(r => {
    const d = new Date(r.date + "T00:00:00");
    return d.getMonth() === vd.getMonth() && d.getFullYear() === vd.getFullYear();
  }).sort((a,b) => new Date(a.date) - new Date(b.date));

  const totalDrops = monthRels.length;
  const collabs = monthRels.filter(r => r.collab).length;
  const avgP = totalDrops > 0 ? Math.round(monthRels.reduce((s,r) => s + r.price, 0) / totalDrops) : 0;
  const highest = monthRels.reduce((mx,r) => r.price > (mx ? mx.price : 0) ? r : mx, null);

  const getBrandClass = r => {
    if (r.collab) return "brand-collab";
    if (r.brand === "Jordan") return "brand-jordan";
    if (r.brand === "Nike") return "brand-nike";
    if (r.brand === "Adidas") return "brand-adidas";
    return "brand-other";
  };

  const fmtDate = ds => {
    const d = new Date(ds + "T00:00:00");
    return d.toLocaleDateString('en-US', {weekday:'short',month:'short',day:'numeric'});
  };

  // Group by date for list view
  const grouped = {};
  monthRels.forEach(r => { if (!grouped[r.date]) grouped[r.date] = []; grouped[r.date].push(r); });

  // Calendar grid
  let calendarHtml = "";
  if (releasesView === "calendar") {
    const f = new Date(vd.getFullYear(), vd.getMonth(), 1);
    const l = new Date(vd.getFullYear(), vd.getMonth() + 1, 0);
    const sd = f.getDay();
    const days = [];
    for (let i = sd - 1; i >= 0; i--) { const d = new Date(f); d.setDate(d.getDate() - i - 1); days.push({date:d,other:true}); }
    for (let j = 1; j <= l.getDate(); j++) days.push({date:new Date(vd.getFullYear(),vd.getMonth(),j),other:false});
    while (days.length % 7 !== 0) { const la = days[days.length-1].date; const nd = new Date(la); nd.setDate(nd.getDate()+1); days.push({date:nd,other:true}); }

    const isToday = d => d.getDate()===today.getDate()&&d.getMonth()===today.getMonth()&&d.getFullYear()===today.getFullYear();
    const relsForDate = date => {
      const ds = date.getFullYear()+"-"+String(date.getMonth()+1).padStart(2,"0")+"-"+String(date.getDate()).padStart(2,"0");
      return filtered.filter(r => r.date === ds);
    };

    calendarHtml = `<div class="cal-grid">
      ${["SUN","MON","TUE","WED","THU","FRI","SAT"].map(d => `<div class="cal-day-header">${d}</div>`).join("")}
      ${days.map((day,i) => {
        const rels = relsForDate(day.date);
        return `<div class="cal-day${day.other?" other-month":""}${isToday(day.date)?" today":""}">
          <div class="cal-day-num">${day.date.getDate()}</div>
          ${rels.slice(0,3).map((r,j) => `<span class="cal-release-pip ${getBrandClass(r)}" data-action="release-select" data-idx="${releases.indexOf(r)}">${esc(r.name.split(" ").slice(0,3).join(" "))}</span>`).join("")}
          ${rels.length>3?`<span class="cal-more" data-action="release-view-list">+${rels.length-3} more</span>`:""}
        </div>`;
      }).join("")}
    </div>`;
  }

  // List view
  let listHtml = "";
  if (releasesView === "list") {
    if (monthRels.length === 0) {
      listHtml = `<div style="text-align:center;padding:60px 0;color:var(--muted);font-size:.75rem;letter-spacing:1px">No releases scheduled for this month</div>`;
    } else {
      listHtml = Object.keys(grouped).sort().map(ds => {
        const d = new Date(ds + "T00:00:00");
        return `<div>
          <div class="cal-list-date"><span>${d.toLocaleDateString('en-US',{month:'short',day:'numeric'})}</span> — ${d.toLocaleDateString('en-US',{weekday:'long'})}</div>
          ${grouped[ds].map((r,j) => `<div class="cal-list-item" data-action="release-select" data-idx="${releases.indexOf(r)}">
            <div class="cal-list-info"><div class="cal-list-name">${esc(r.name)}</div><div class="cal-list-meta">${esc(r.brand)} · ${esc(r.color)}</div><div class="cal-list-sku">${esc(r.sku)}</div></div>
            <div class="cal-list-price">$${r.price}</div>
            <div class="cal-list-actions"><a class="cal-list-btn primary" href="/?search=${encodeURIComponent(r.name)}" onclick="event.stopPropagation()">Compare Prices</a></div>
          </div>`).join("")}
        </div>`;
      }).join("");
    }
  }

  // Modal
  let modalHtml = "";
  if (releasesSel !== null) {
    const sel = releases[releasesSel];
    if (sel) {
      modalHtml = `<div class="cal-modal-overlay" data-action="release-modal-close"><div class="cal-modal" onclick="event.stopPropagation()">
        <div class="cal-modal-head"><div style="font-size:.5rem;letter-spacing:3px;text-transform:uppercase;color:var(--accent)">${esc(sel.brand)}${sel.collab?" · COLLAB":""}</div><button class="cal-modal-close" data-action="release-modal-close">✕</button></div>
        <div class="cal-modal-body">
          <div class="cal-modal-title">${esc(sel.name)}</div>
          <div class="cal-modal-details">
            <div class="cal-modal-detail"><label>Release Date</label><span>${fmtDate(sel.date)}</span></div>
            <div class="cal-modal-detail"><label>Retail Price</label><span style="color:var(--green)">$${sel.price}</span></div>
            <div class="cal-modal-detail"><label>Style Code</label><span style="font-size:.9rem">${esc(sel.sku)}</span></div>
            <div class="cal-modal-detail"><label>Colorway</label><span style="font-size:.7rem;font-family:'DM Mono',monospace">${esc(sel.color)}</span></div>
          </div>
          <div class="cal-modal-btns">
            <a class="cal-list-btn primary" href="/?search=${encodeURIComponent(sel.name)}">Compare Prices</a>
            <a class="cal-list-btn" href="https://www.amazon.com/s?k=${encodeURIComponent(sel.name+" "+sel.sku)}&tag=sneakyradar-20" target="_blank" rel="noopener">Amazon</a>
            <a class="cal-list-btn" href="https://stockx.com/search?s=${encodeURIComponent(sel.name)}" target="_blank" rel="noopener">StockX</a>
          </div>
        </div>
      </div></div>`;
    }
  }

  return `<div class="page"><div class="section-wrap">
    <div class="section-eyebrow">Upcoming</div>
    <div class="section-title"><span class="filled">RELEASE</span> <span class="outline">CALENDAR</span></div>
    <div class="section-sub">Every confirmed sneaker drop. Auto-updated weekly via AI-powered web search.</div>
    <div class="cal-stats">
      <div class="cal-stat"><div class="cal-stat-label">Drops This Month</div><div class="cal-stat-val accent">${totalDrops}</div></div>
      <div class="cal-stat"><div class="cal-stat-label">Collabs</div><div class="cal-stat-val" style="color:#cc44ff">${collabs}</div></div>
      <div class="cal-stat"><div class="cal-stat-label">Avg Retail</div><div class="cal-stat-val green">$${avgP}</div></div>
      <div class="cal-stat"><div class="cal-stat-label">Priciest Drop</div><div class="cal-stat-val" style="color:#ffd200">${highest?"$"+highest.price:"—"}</div></div>
    </div>
    <div class="cal-header">
      <div class="cal-month-nav">
        <button data-action="month-prev">◀ PREV</button>
        <div class="cal-month-label"><span>${mn}</span> ${yr}</div>
        <button data-action="month-next">NEXT ▶</button>
      </div>
      <div class="cal-view-toggle">
        <button class="cal-view-btn${releasesView==="calendar"?" active":""}" data-action="release-view" data-view="calendar">GRID</button>
        <button class="cal-view-btn${releasesView==="list"?" active":""}" data-action="release-view" data-view="list">LIST</button>
      </div>
    </div>
    <div class="cal-filters">${bOpts.map(b => `<button class="cal-filter-btn${releasesBrandFilter===b?" active":""}" data-action="release-brand" data-brand="${b}">${b}</button>`).join("")}</div>
    ${releasesView === "calendar" ? calendarHtml : `<div class="cal-list">${listHtml}</div>`}
    <div class="cal-legend">
      <div class="cal-legend-item"><div class="cal-legend-dot" style="background:#ff3c00"></div> JORDAN</div>
      <div class="cal-legend-item"><div class="cal-legend-dot" style="background:#888"></div> NIKE</div>
      <div class="cal-legend-item"><div class="cal-legend-dot" style="background:#00e676"></div> ADIDAS</div>
      <div class="cal-legend-item"><div class="cal-legend-dot" style="background:#cc44ff"></div> COLLAB</div>
    </div>
    ${modalHtml}
  </div></div>`;
}

// --- Chat Widget ---
function renderChat() {
  let windowHtml = "";
  if (chatOpen) {
    windowHtml = `<div class="chat-window">
      <div class="chat-header">
        <div class="chat-header-left">
          <div class="chat-avatar">S</div>
          <div>
            <div class="chat-title">SOLE EXPERT</div>
            <div class="chat-subtitle"><span class="chat-online"></span>Online · Sneaker AI</div>
          </div>
        </div>
        <div style="display:flex;align-items:center;gap:12px">
          <button class="chat-clear" data-action="chat-clear">Clear</button>
          <button class="chat-close" data-action="chat-close">✕</button>
        </div>
      </div>
      <div class="chat-messages" id="chat-messages">
        ${chatMsgs.map((m,i) => `<div class="msg ${m.role==="user"?"user":"bot"}">
          <div class="msg-avatar ${m.role==="user"?"user":"bot"}">${m.role==="user"?"U":"S"}</div>
          <div class="msg-bubble">${fmtMsg(m.content)}</div>
        </div>`).join("")}
        ${chatThinking ? `<div class="msg bot"><div class="msg-avatar bot">S</div><div class="msg-bubble"><div class="typing-indicator"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div></div></div>` : ""}
        <div id="chat-bottom"></div>
      </div>
      ${chatShowSug ? `<div class="chat-suggestions">${SUGGESTED_QUESTIONS.map((q,i) => `<button class="suggestion-chip" data-action="chat-suggest" data-q="${esc(q)}">${esc(q)}</button>`).join("")}</div>` : ""}
      <div class="chat-input-row">
        <textarea id="chat-input" class="chat-input" placeholder="Ask about any sneaker..." rows="1">${esc(chatInput)}</textarea>
        <button class="chat-send" data-action="chat-send" ${chatThinking?"disabled":""}>SEND</button>
      </div>
    </div>`;
  }
  return windowHtml + `<button class="chat-fab" data-action="chat-toggle">
    ${chatOpen
      ? `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>`
      : `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg><span>ASK SOLE</span>`
    }
  </button>`;
}

// ===== EVENT DELEGATION =====
function attachEvents() {
  // Search input enter key
  const si = document.getElementById("search-input");
  if (si) {
    si.addEventListener("keydown", e => {
      if (e.key === "Enter") { searchQuery = si.value; doSearch(searchQuery); }
    });
    // Keep input value synced (since we re-render, the value resets)
    si.value = searchQuery;
  }

  // Alert email input
  const ae = document.getElementById("alert-email-input");
  if (ae) ae.addEventListener("input", e => { alertEmail = e.target.value; });

  // Chat input
  const ci = document.getElementById("chat-input");
  if (ci) {
    ci.addEventListener("input", e => { chatInput = e.target.value; });
    ci.addEventListener("keydown", e => {
      if (e.key === "Enter" && !e.shiftKey) { e.preventDefault(); doSendChat(); }
    });
    if (chatOpen) setTimeout(() => ci.focus(), 50);
  }

  // Scroll chat to bottom
  const cb = document.getElementById("chat-bottom");
  if (cb) cb.scrollIntoView({behavior:"smooth"});
}

// ===== GLOBAL CLICK HANDLER =====
document.addEventListener("click", function(e) {
  const btn = e.target.closest("[data-action]");
  if (!btn) return;
  const action = btn.dataset.action;

  if (action === "home") { activePage = "drops"; mobileMenuOpen = false; render(); }
  else if (action === "nav") { activePage = btn.dataset.page; render(); }
  else if (action === "nav-mobile") { activePage = btn.dataset.page; mobileMenuOpen = false; render(); }
  else if (action === "hamburger") { mobileMenuOpen = !mobileMenuOpen; render(); }
  else if (action === "alert-open") { showAlertModal = true; alertDone = false; alertEmail = ""; render(); }
  else if (action === "alert-close" || action === "alert-overlay") {
    if (action === "alert-overlay" && e.target !== btn) return;
    showAlertModal = false; render();
  }
  else if (action === "alert-submit") {
    if (!alertEmail.includes("@")) return;
    console.log("[SNEAKYRADAR] subscriber:", alertEmail);
    alertDone = true; render();
  }
  else if (action === "search") {
    const si = document.getElementById("search-input");
    if (si) searchQuery = si.value;
    doSearch(searchQuery);
  }
  else if (action === "category") {
    const cats = window._CATEGORY_SEARCHES;
    const cat = cats[parseInt(btn.dataset.idx)];
    if (!cat || (cat.query == null && cat.query !== "")) return;
    activeCategory = cat.label;
    if (cat.query === "") { searchQuery = ""; doSearch("Jordan"); }
    else { searchQuery = cat.query; doSearch(cat.query); }
  }
  else if (action === "load-more") { doLoadMore(); }
  else if (action === "drop-click") {
    const url = btn.dataset.url;
    if (url) window.open(affLink(url, btn.dataset.source), "_blank");
  }
  else if (action === "resell-brand") { resellBrandFilter = btn.dataset.brand; render(); }
  else if (action === "resell-sort") { resellSortCol = btn.dataset.col; render(); }
  else if (action === "auth-toggle") {
    const idx = parseInt(btn.dataset.idx);
    authSelected = authSelected === idx ? null : idx;
    render();
  }
  else if (action === "auth-close") { authSelected = null; render(); }
  else if (action === "month-prev") { monthOffset--; render(); }
  else if (action === "month-next") { monthOffset++; render(); }
  else if (action === "release-view") { releasesView = btn.dataset.view; render(); }
  else if (action === "release-view-list") { releasesView = "list"; render(); }
  else if (action === "release-brand") { releasesBrandFilter = btn.dataset.brand; render(); }
  else if (action === "release-select") { releasesSel = parseInt(btn.dataset.idx); render(); }
  else if (action === "release-modal-close") { releasesSel = null; render(); }
  else if (action === "chat-toggle") { chatOpen = !chatOpen; render(); }
  else if (action === "chat-close") { chatOpen = false; render(); }
  else if (action === "chat-clear") {
    chatMsgs = [{role:"assistant",content:"Fresh start. What do you want to know?"}];
    chatShowSug = true; render();
  }
  else if (action === "chat-send") { doSendChat(); }
  else if (action === "chat-suggest") { chatInput = btn.dataset.q; doSendChat(btn.dataset.q); }
});

// ===== ASYNC ACTIONS =====
async function doSearch(q) {
  dropsLoading = true; dropsError = null; steps = [{label:"Searching all sources",status:"active"}];
  dropsPage = 1; hasMore = true; lastQuery = q !== "" ? q : "__trending__";
  const cats = window._CATEGORY_SEARCHES || [];
  const matchedCat = cats.find(c => c.query && c.query.toLowerCase() === q.toLowerCase());
  if (matchedCat) activeCategory = matchedCat.label;
  else if (q === "") activeCategory = "ALL";
  else activeCategory = "";
  render();
  try {
    const result = await fetchDrops(q, 1);
    const d = dedupeDrops(result);
    steps = [{label:"Searching all sources",status:"done",count:d.length}];
    drops = d.length > 0 ? d : DEFAULT_DROPS;
    if (!d.length) dropsError = "No results found. Showing featured drops.";
    if (d.length < 50) hasMore = false;
    dropsUpdated = new Date().toLocaleTimeString();
    if (d.length > 0 && !q) {
      localStorage.setItem("sneakyradar_drops", JSON.stringify(d));
      localStorage.setItem("sneakyradar_drops_time", Date.now().toString());
      localStorage.setItem("sneakyradar_drops_ver", "v25");
    }
  } catch(e) {
    console.error("Search error:", e);
    steps = [{label:"Searching all sources",status:"done",count:0}];
    dropsError = e.message || "Search failed. Showing cached drops.";
  }
  dropsLoading = false;
  render();
}

async function doLoadMore() {
  if (!lastQuery || dropsLoadingMore || !hasMore) return;
  dropsLoadingMore = true;
  render();
  const nextPage = dropsPage + 1;
  const fetchQuery = lastQuery === "__trending__" ? "" : lastQuery;
  try {
    const moreDrops = await fetchDrops(fetchQuery, nextPage);
    if (moreDrops.length === 0) { hasMore = false; }
    else {
      drops = dedupeDrops([...drops, ...moreDrops]);
      dropsPage = nextPage;
      if (moreDrops.length < 50) hasMore = false;
    }
  } catch(e) { console.error("Load more error:", e); }
  dropsLoadingMore = false;
  render();
}

async function doSendChat(text) {
  const t = text || chatInput.trim();
  if (!t || chatThinking) return;
  chatInput = ""; chatShowSug = false;
  chatMsgs = [...chatMsgs, {role:"user",content:t}];
  chatThinking = true;
  render();
  try {
    const res = await fetch(API_URL, {
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({
        model:"claude-haiku-4-5-20251001",
        max_tokens:600,
        system:CHAT_SYSTEM_PROMPT,
        messages:chatMsgs.map(m=>({role:m.role,content:typeof m.content==="string"?m.content.replace(/<[^>]+>/g,""):m.content}))
      })
    });
    const data = await res.json();
    if (!res.ok) throw new Error(JSON.stringify(data.error) || JSON.stringify(data));
    const reply = data.content?.filter(b=>b.type==="text").map(b=>b.text).join("") || "No response";
    chatMsgs = [...chatMsgs, {role:"assistant",content:reply}];
  } catch(e) {
    chatMsgs = [...chatMsgs, {role:"assistant",content:`Error: ${e.message}`}];
  }
  chatThinking = false;
  render();
}

// ===== INIT =====
(function init() {
  // Check URL for ?search= param
  const urlParams = new URLSearchParams(window.location.search);
  const searchParam = urlParams.get("search");
  if (searchParam) {
    searchQuery = searchParam;
    render();
    doSearch(searchParam);
    return;
  }

  // Check cache
  const CACHE_VERSION = "v25";
  const cached = localStorage.getItem("sneakyradar_drops");
  const cachedTime = localStorage.getItem("sneakyradar_drops_time");
  const cachedVer = localStorage.getItem("sneakyradar_drops_ver");
  const oneHour = 15 * 60 * 1000;
  if (cached && cachedTime && cachedVer === CACHE_VERSION && Date.now() - parseInt(cachedTime) < oneHour) {
    try {
      const parsed = JSON.parse(cached);
      if (parsed.length > 0) { drops = parsed; render(); return; }
    } catch(e) {}
  }
  localStorage.removeItem("sneakyradar_drops");
  localStorage.removeItem("sneakyradar_drops_time");
  localStorage.removeItem("sneakyradar_drops_ver");
  render();
  doSearch("Jordan");

  // Load releases
  fetch("/releases.json").then(r => {if(!r.ok)throw new Error("no file");return r.json();}).then(d => {
    if (d.releases && d.releases.length > 0) { releases = d.releases; relSource = d.source || "auto"; relUpdated = d.updated || ""; if (activePage === "releases") render(); }
  }).catch(() => {
    fetch("/.netlify/functions/anthropic", {method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"get_releases"})})
      .then(r => r.json()).then(d => {
        if (d.releases && d.releases.length > 0) { releases = d.releases; relSource = d.source || ""; relUpdated = d.updated || ""; if (activePage === "releases") render(); }
      }).catch(() => {});
  });

  // Hero image rotator — global state so it survives render() calls
  let _heroImages = [];
  let _heroIdx = 0;
  let _heroInterval = null;

  function showHero() {
    const el = document.getElementById("hero-sneaker");
    if (!el || _heroImages.length === 0) return;
    const img = _heroImages[_heroIdx];
    const imgEl = new Image();
    imgEl.onload = function() {
      // Re-check element still exists (render may have fired)
      const el2 = document.getElementById("hero-sneaker");
      if (!el2) return;
      el2.querySelectorAll("img.active, .hero-label.active").forEach(e => e.classList.remove("active"));
      setTimeout(() => { el2.querySelectorAll("img:not(.active)").forEach(e => { if (el2.querySelectorAll("img").length > 1) e.remove(); }); }, 700);
      imgEl.className = "active";
      imgEl.alt = img.name;
      imgEl.style.cssText = "width:100%;height:100%;object-fit:contain;padding:12px;position:absolute;top:0;left:0;opacity:0;transition:opacity 0.6s ease;";
      el2.appendChild(imgEl);
      const svg = el2.querySelector("svg");
      if (svg) svg.style.display = "none";
      let label = el2.querySelector(".hero-label");
      if (!label) { label = document.createElement("div"); label.className = "hero-label"; el2.appendChild(label); }
      label.textContent = img.name;
      label.classList.add("active");
      requestAnimationFrame(() => { imgEl.style.opacity = "1"; });
    };
    imgEl.src = img.src;
    _heroIdx = (_heroIdx + 1) % _heroImages.length;
  }

  // After every render, immediately restore current hero image
  function restoreHero() {
    if (_heroImages.length === 0) return;
    const el = document.getElementById("hero-sneaker");
    if (!el || el.querySelector("img")) return; // already has image
    // Show current image immediately (no fade for restore)
    const img = _heroImages[(_heroIdx - 1 + _heroImages.length) % _heroImages.length];
    const imgEl = new Image();
    imgEl.onload = function() {
      const el2 = document.getElementById("hero-sneaker");
      if (!el2 || el2.querySelector("img")) return;
      imgEl.className = "active";
      imgEl.alt = img.name;
      imgEl.style.cssText = "width:100%;height:100%;object-fit:contain;padding:12px;position:absolute;top:0;left:0;opacity:1;";
      el2.appendChild(imgEl);
      const svg = el2.querySelector("svg");
      if (svg) svg.style.display = "none";
      let label = el2.querySelector(".hero-label");
      if (!label) { label = document.createElement("div"); label.className = "hero-label active"; el2.appendChild(label); }
      label.textContent = img.name;
      label.classList.add("active");
    };
    imgEl.src = img.src;
  }

  (async function loadHeroImages() {
    const heroQueries = ["Jordan 4 Retro","Nike Dunk Low","Yeezy 350","Travis Scott Jordan 1","Air Force 1","New Balance 990","ASICS Gel-1130","Nike Kobe 6"];
    for (const q of heroQueries) {
      try {
        const r = await fetch(API_URL, {method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"search",query:q,limit:1})});
        const j = await r.json();
        if (j.data && j.data[0] && j.data[0].image) {
          _heroImages.push({src: j.data[0].image, name: j.data[0].title || j.data[0].name || q});
          // Show first image as soon as we get it
          if (_heroImages.length === 1) showHero();
        }
      } catch(e) {}
    }
    if (_heroImages.length === 0) return;
    if (!_heroInterval) _heroInterval = setInterval(showHero, 4000);
  })();
})();
</script>
</body>
</html>